<HTML charset="UTF-8">
<!-- NOTE: I hade hoped to make the help file searchable by segment, by introducing AppleXXX meta
		   tags in comment lines. The effect was that the segment titles DID show up in the search
		   results, but double-clicking the segment title didn't result in anything. I have not
		   been able to solve this. However, to preserve the effort, I changed all AppleXXX tags
		   into OppleXXX, so they won't be recognized by the indexer. I DO need the indexer because
		   that is the only way to directly jump to an anchor from the application source code.
		   Some Internet research showed that the problem I encountered is well-known, but
		   apparently nothing has been done about it. The best work-around is to split the Help
		   file into multiple files, like all Apple apps do... -->
<HEAD>
	<TITLE>Virtual&nbsp;&#93;&#91; Help</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
	<META NAME="AppleTitle" CONTENT="Virtual II Help"><META NAME="AppleIcon" CONTENT="VirtualIIHelp/help_icon.gif">
	<META NAME="DESCRIPTION" CONTENT="Full documentation of Virtual ][, emulator for the Apple ][, Apple ][+ and Apple //e computers.">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H1><CENTER>Virtual&nbsp;&#93;&#91;</CENTER></H1>

<CENTER><IMG SRC="icon_256x256.png" WIDTH=128 HEIGHT=128 ALIGN=bottom>

<P>Copyright &copy; Gerard Putter</P></CENTER>

<H3><FONT COLOR="#990000">Overview</FONT></H3>

<BLOCKQUOTE>
   <A HREF="#Introduction">Introduction</A><BR>
   <A HREF="#ROMImage">About the ROM image file</A><BR>
   <A HREF="#RunDemo">Run a demo to test the installation</A><BR>
   <A HREF="#AboutThisFile">Where to find Apple II documentation</A><BR>
   <A HREF="#EvalVersion">About the evaluation version and licensed versions</A><BR>
   <A HREF="#Starting">Starting and stopping the application</A><BR>
   <A HREF="#MainWindow">General operation</A><BR>
</BLOCKQUOTE>

<H3><FONT COLOR="#990000">Devices</FONT></H3>
<BLOCKQUOTE>
   <A HREF="#Keyboard">The Apple&nbsp;&#93;&#91; keyboard</A><BR>
   <A HREF="#DiskImages">Working with disk images</A><BR>
   <A HREF="#DiskDrives">5.25" floppy disk drive</A><BR>
   <A HREF="#HardDiskDrives">Hard disk and 3.5" floppy disk drive</A><BR>
   <A HREF="#Printer">Printer</A><BR>
   <A HREF="#Serial">Serial interface</A><BR>
   <A HREF="#CassetteRecorder">Cassette recorder</A><BR>
   <A HREF="#Column80">80-column card for the Apple&nbsp;&#93;&#91; and Apple&nbsp;&#93;&#91;+</A><BR>
   <A HREF="#AppleIIe80Column">80-column display on the Apple&nbsp;//e</A><BR>
   <A HREF="#Mouse">AppleMouse</A><BR>
   <A HREF="#Clock">Real time clock</A><BR>
   <A HREF="#Z80">Z80 card and CP/M</A><BR>
</BLOCKQUOTE>

<H3><FONT COLOR="#990000">Gameplay and other fun stuff</FONT></H3>
<BLOCKQUOTE>
   <A HREF="#GamePaddles">Joystick and game paddles</A><BR>
   <A HREF="#Sounds">Working with sound</A><BR>
   <A HREF="#Movie">Recording a movie</A><BR>
</BLOCKQUOTE>

<H3><FONT COLOR="#990000">Transferring Apple&nbsp;II diskettes to the Mac</FONT></H3>
<BLOCKQUOTE>
   <A HREF="../../PlugIns/A2V2.app/Contents/Resources/A2V2Help/A2V2Help.html">The A2V2 utility application</A>
</BLOCKQUOTE>

<H3><FONT COLOR="#990000">Advanced options</FONT></H3>
<BLOCKQUOTE>
   <A HREF="#CharacterSet">Working with character sets and international keyboards</A><BR>
   <A HREF="#Configuration">Configuration</A><BR>
   <A HREF="#Applescript">Controlling Virtual&nbsp;&#93;&#91; with AppleScript</A><BR>
   <A HREF="InspectorHelp/inspector_help.html">The Virtual&nbsp;&#93;&#91; Inspector</A><BR>
</BLOCKQUOTE>

<H3><FONT COLOR="#990000">Support</FONT></H3>
<BLOCKQUOTE>
   <A HREF="#GettingSupport">Getting support</A><BR>
   <A HREF="#ReleaseNotes">Release notes</A><BR>
</BLOCKQUOTE>
   
<H3><FONT COLOR="#990000">Other issues</FONT></H3>
<BLOCKQUOTE>
   <A HREF="#Specifications">Specifications of the virtual machine</A><BR>
   <A HREF="#Unsupported">Unsupported features</A><BR>
   <A HREF="#Why">Why did I create this application? </A><BR>
   <A HREF="#Acknowledgements">Acknowledgements</A>
</BLOCKQUOTE>

<HR>

<!-- OppleSegStart="Introduction to Virtual ][" -->
<A NAME=Introduction></A>

<H3><FONT COLOR="#990000">Introduction</FONT></H3>

<P>Virtual&nbsp;&#93;&#91; is an application that emulates the
Apple&nbsp;&#93;&#91; computer. Its main purpose is to enjoy, on your
Macintosh computer, the nostalgic fun of the Apple&nbsp;&#93;&#91;.</P>

<I>Key features</I>

<UL>
<LI>Emulates the Apple&nbsp;&#93;&#91;, &#93;&#91;+ and //e</LI>
<LI>Supports USB game pad or joystick</LI>
<LI>Save a running machine and resume later on</LI>
<LI>Full-screen mode</LI>
<LI>Epson FX-80 and ImageWriter II printer emulation</LI>
<LI>Conversion of original diskettes to disk image files</LI>
<LI>Integrated "Spotlight" module allows searching for a specific file on your disk images.</LI>
</UL>

<I>More features</I>

<UL>
<LI>Run multiple machines simultaneously</LI>
<LI>Supports all graphics and text modes</LI>
<LI>Emulates the internal speaker</LI>
<LI>Mouse&nbsp;&#93;&#91; emulation</LI>
<LI>ProDOS hard disk support</LI>
<LI>Thunderclock, "Mountain" AppleClock and no-slot clock</LI>
<LI>Cassette tape emulation</LI>
<LI>Memory expansion up to 16 MB</LI>
<LI>Supports "international" keyboards and character sets</LI>
<LI>Record a QuickTime movie from the emulated Apple&nbsp;II screen</LI>
<LI>Intuitive user interface</LI>
<LI>Realistic sound effects</LI>
<LI>Comprehensive documentation</LI>
</UL>

<I>Advanced features</I>

<UL>
<LI>Configure your own virtual machines</LI>
<LI>Mount a Mac folder as a DOS or ProDOS disk</LI>
<LI>Run CP/M on the emulated Z80</LI>
<LI>Use real serial devices or Unix named pipes with the emulated Super Serial card (experimental - currently in beta)</LI>
<LI>Paste text to the Apple&nbsp;&#93;&#91; keyboard</LI>
<LI>Install your own character generator ROMs</LI>
<LI>Supports "variable speed" mode for better performance</LI>
<LI>Debug Apple II programs with the "Inspector"</LI>
<LI>Built-in performance monitor</LI>
<LI>Can be controlled with AppleScript</LI>
</UL>

<P>
Virtual&nbsp;&#93;&#91; accurately implements the hardware of the original machine in
software, so all programs should behave like they did on the real machine.</P>

<P>
The application requires macOS&nbsp;10.11 "El Capitan" or better. There are no
specific hardware requirements.
</P>

<P>Note that, for reasons of copyright, the application does not come
with the original Apple ROM images. For more information on this, read
"<A HREF="#ROMImage">About the ROM image file</A>".
</P>

<P>You can download and try an evaluation version of
Virtual&nbsp;&#93;&#91; for free. If you like the application, you can
buy a license and enjoy the full-featured Apple&nbsp;&#93;&#91;
emulation. Read more about this in "<A HREF="#EvalVersion">About the
evaluation version and licensed version</A>".</P>
<!-- OppleSegEnd -->

<HR>

<!-- OppleSegStart="Installing Virtual ][" -->
<!-- OppleKeywords="rom" -->
<!-- NOTE THAT THE ROMImage ANCHOR IS USED IN THE APP (VIIApplication showHelp:) -->
<A NAME="ROMImage"></A>
<H3><FONT COLOR="#990000">About the ROM image file</FONT></H3>

<H4><FONT COLOR="#990000">Installing a ROM image file</FONT></H4>

<P>The first time you start Virtual&nbsp;&#93;&#91;, you'll probably
see a notice about a missing ROM image file. Virtual&nbsp;&#93;&#91;
can emulate three different machines: the Apple&nbsp;&#93;&#91;, the
Apple&nbsp;&#93;&#91;+ and the Apple&nbsp;//e. Each machine needs a
different ROM. This is how to install one or more ROM files.</P>

<UL>
   <LI>First of all: the Apple II ROM contains software, and in order to 
   legally use it, you must be licensed to do so. This goes for all software, 
   including the Apple II ROMs. If you own an original Apple&nbsp;II you are implictly
   licensed to use the ROM software contained in that machine. The ROM is
   <I>not</I> part of the Virtual&nbsp;&#93;&#91; license!</LI>

   <LI>You do not have to make a copy of the ROM in your original machine, because
   the ROM image files are available on internet. You can find them with
   <A HREF="https://duckduckgo.com/?q=appleII+rom+images&t=osx&ia=images">DuckDuckGo</A>
   or with <A HREF="https://www.google.com/search?q=apple2+rom+image">Google</A>.
   The files you need typically have names such as
   apple_iie_rom, apple_ii+_rom or apple2o. If you're not sure which 
   ROM files you need, just install a few and see what happens.
   The names of the ROM files must end in .rom (or .ROM). Apart from that,
   the names can be anything. Virtual&nbsp;&#93;&#91; will
   automatically recognize the files it needs, and ignore the rest.</LI>
   
   <LI>Once you have obtained one or more ROM image files, select "Show ROM Folder" from the File menu in Virtual&nbsp;&#93;&#91;.
       This opens a Finder window showing the folder where the ROM files must go. Copy (or move) the ROM files there.
    </LI>
   
   <LI>From the File menu, use "New Machine" to create an instance of
   the machine you want to emulate, as shown in the next picture. The
   application will automatically search the ROM folder for a
   file that matches the selected machine type. If no such ROM can
   be found, it shows a warning.</LI>
</UL>

<P>
<IMG SRC="ShowROMFolder.png" WIDTH=508 HEIGHT=342 ALIGN=bottom> <IMG SRC="NewMachineMenu.png" WIDTH=508 HEIGHT=342 ALIGN=bottom>
</P>

<H4><FONT COLOR="#990000">If you updated from an older version</FONT></H4>
<P>
Before version 8.0, Virtual&nbsp;&#93;&#91; allowed the ROM files to reside in the same folder as the application.
This setup is likely to fail with later versions of the application, depending on the version of macOS and the configured
file access permissions.
<BR>
It is recommended to move the files to the ROM folder, which you can easily access by selecting
"Show ROM Folder" from the File menu.
</P>

<H4><FONT COLOR="#990000">Some technical background</FONT></H4>

<P>In each Apple&nbsp;&#93;&#91;, the memory address range from $D000
to $FFFF is occupied by ROM, containing the Basic interpreter (either
Integer Basic or Applesoft Basic) and the system monitor. In the
Apple&nbsp;//e, part of the memory range $C100 - $CFFF is also used
for ROM.<BR>
Virtual&nbsp;&#93;&#91; needs a valid ROM image file to behave like a
real Apple&nbsp;II. Because the ROMs are copyrighted by
Apple, they are not bundled with Virtual&nbsp;&#93;&#91;. The ROMs
must be present as external files containing the exact memory image.
To be more precise: Virtual&nbsp;&#93;&#91; uses the last 12 KB of
the designated file (or 16 KB in the case of Apple&nbsp;//e) as the ROM of a
newly created virtual machine.<BR>
If the application does not find the ROM file, it uses a built-in ROM
image, which is only able to issue the notice on the missing ROM
image file.</P>

<P>If you want to use a non-standard ROM, and know what you are
doing, you can override the standard ROM image file search, and
specify a ROM image file in the "ROM memory" section of the
configuration window.</P>

<H3>
<HR>
<A NAME=RunDemo></A><FONT COLOR="#990000">Run a demo to test the installation</FONT></H3>
<P>
After you have installed the ROM image files, you can immediately test whether the installation was
successful, and see some of the application's highlights at the same time.
</P>
<P>
To that purpose, click on the Applescript menu, and select any of the "example scripts".
</P>
<P><IMG SRC="ApplescriptMenu.png" WIDTH=217 HEIGHT=105></P>
<P>
You'll see a short explanation of what the demo will do; click the "Run" button to start the demo.
</P>
<P><IMG SRC="DemoIntro.png" WIDTH=532 HEIGHT=300 ALIGN=BOTTOM></P>

<P>If you want to learn more about using Applescript with Virtual&nbsp;&#93;&#91;, read
<A HREF="#Applescript">Controlling Virtual&nbsp;&#93;&#91; with AppleScript</A></P>

<H3><FONT COLOR="#990000">
<HR>
</FONT><A NAME=AboutThisFile></A><FONT COLOR="#990000">Where to find Apple&nbsp;II documentation</FONT></H3>

<P>This Help file is about the Virtual&nbsp;&#93;&#91; application. For example, it tells you how to
configure a virtual machine, how to use the emulated printer and how to work with disk images.<BR>
It does, however, <I>not</I> explain how to use the
Apple&nbsp;II computer. If you want to refresh your memory on
Applesoft Basic, Integer Basic, DOS or ProDOS commands, you might
find this web page useful: <A HREF="https://www.landsnail.com/a2ref.htm" target="_blank">Apple&nbsp;&#93;&#91;
Programmer's reference</A>. Or, if you want more detailed information,
<A HREF="http://www.apple-iigs.info/doc/home.htm" target="_blank">have a look at this site</A>; it contains
a large collection of Apple&nbsp;II manuals.</P>
<!-- OppleSegEnd -->

<HR>

<!-- OppleSegStart="Virtual ][ licenses" -->
<A NAME=EvalVersion></A>
<H3><FONT COLOR="#990000">About the evaluation version and licensed versions</FONT></H3>

<P>The application runs in one of three license modes:</P>

<UL>
   <LI>Evaluation mode; this is what you get when you first download
   the application and run it. Most of the functions work, but the
   application pauses every few minutes.</LI>
   
   <LI>Limited license mode: this lifts some of the restrictions of
   the evaluation mode. This license is mainly intended for users who
   want to play the old Apple&nbsp;&#93;&#91; games.</LI>
   
   <LI>Full license mode: this lifts all restrictions and unlocks the
   full power of the application.</LI>
</UL>

<P>This table shows the difference between the licenses:<BR>
<TABLE BORDER=1>
   <TR>
      <TD>
         <P></P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#CCCCCC">
         <CENTER>Evaluation</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#CCCCCC">
         <CENTER>Limited</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#CCCCCC">
         <CENTER>Full</CENTER>
      </TD>
   </TR>
   <TR>
      <TD>
         <P>"Evaluation Version" watermark in screen</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>Yes</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>No</CENTER>
      </TD>
   </TR>
   <TR>
      <TD>
         <P>Pauses every five minutes</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>Yes</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>No</CENTER>
      </TD>
   </TR>
   <TR>
       <TD>
           <P>Can resume a machine from a previous session</P>
       </TD>
       <TD WIDTH=95 BGCOLOR="#FF8080">
           <CENTER>No</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#6BEB6F">
           <CENTER>Yes</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#6BEB6F">
           <CENTER>Yes</CENTER>
       </TD>
   </TR>
   <TR>
      <TD>
         <P>Full use of matrix printer emulation (no "Evaluation Version" watermark)</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>Yes</CENTER>
      </TD>
   </TR>
   <TR>
      <TD>
         <P>Record a movie of the emulated screen</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>Yes</CENTER>
      </TD>
   </TR>
   <TR>
      <TD>
         <P>Mount a Mac folder as a ProDOS disk</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#FF8080">
         <CENTER>No</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>Yes</CENTER>
      </TD>
   </TR>
   <TR>
       <TD>
           <P>Use Unix named pipes for serial I/O (experimental)</P>
       </TD>
       <TD WIDTH=95 BGCOLOR="#FF8080">
           <CENTER>No</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#FF8080">
           <CENTER>No</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#6BEB6F">
           <CENTER>Yes</CENTER>
       </TD>
   </TR>
   <TR>
       <TD>
           <P>Intelligent power management (as described in <A HREF="#SettingSpeed">Setting the speed</A>)</P>
       </TD>
       <TD WIDTH=95 BGCOLOR="#FF8080">
           <CENTER>No</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#FF8080">
           <CENTER>No</CENTER>
       </TD>
       <TD WIDTH=95 BGCOLOR="#6BEB6F">
           <CENTER>Yes</CENTER>
       </TD>
   </TR>
   <TR>
      <TD>
         <P>Maximum amount of emulated memory</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#F8DD48">
         <CENTER>128 KB</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#F8DD48">
         <CENTER>128 KB</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>16 MB</CENTER>
      </TD>
   </TR>
   <TR>
      <TD>
         <P>You're entitled to all future improvements of the
         application</P>
      </TD>
      <TD WIDTH=95 BGCOLOR="#F8DD48">
         <CENTER>N/A</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#F8DD48">
         <CENTER>Partial</CENTER>
      </TD>
      <TD WIDTH=95 BGCOLOR="#6BEB6F">
         <CENTER>Yes</CENTER>
      </TD>
   </TR>
</TABLE>
</P>

<P>A license gives you the right to run Virtual&nbsp;&#93;&#91; on
one computer at a time (you <I>can</I> install it on multiple
computers though).<BR>
Buying a license is easy; just go to the <A HREF=https://sites.fastspring.com/putter/product/virtualii target=_blank>online Virtual&nbsp;&#93;&#91; store</A>.
Alternatively, you can choose "Buy a License" from the application menu in Virtual&nbsp;&#93;&#91;.
<BR><BR>Right after ordering the license, you will receive an e-mail
with a license code. Choose "Enter License Code" in the
Virtual&nbsp;&#93;&#91; application menu, and enter the information
received in the e-mail.
<BR>
When everything checks out, the application is upgraded to the licensed
version immediately. There is no need to stop and restart the
application.</P>

<!-- OppleSegEnd -->

<!-- OppleSegStart="Starting and stopping Virtual ][" -->
<H3><FONT COLOR="#990000">
<HR>
</FONT><A NAME=Starting></A><FONT COLOR="#990000">Starting and stopping the application</FONT></H3>

<H4><FONT COLOR="#990000">Starting</FONT></H4>

<P>There are two ways to start the Virtual&nbsp;&#93;&#91;
application:</P>

<OL>
   <LI>Double-click the application and work with a default
   configuration, or</LI>
   
   <LI>Open a Virtual&nbsp;&#93;&#91; document and work with a
   machine you configured yourself.</LI>
</OL>

<P>In either case, the application requires a ROM image file to boot a
virtual machine. This is described in more detail in "<A HREF="#ROMImage">About
the ROM image file</A>". Assuming a valid Apple&nbsp;//e ROM image is
available and the application is started by double-clicking the
application icon, it creates a default virtual machine and shows the
main window.</P>

<H4><FONT COLOR="#990000">Stopping</FONT></H4>

<P>A virtual machine stops (is "switched off") when you close its window 
(or when you stop the Virtual&nbsp;&#93;&#91; application). When you do,
the application presents a sheet asking if it should save the virtual machine.
<P><IMG SRC="SwitchOff.png" WIDTH=641 HEIGHT=165 ALIGN=bottom></P>
The entire state is saved in a document, and when you 
later on open such a document, the virtual machine continues running from 
where it left off. This can, for example, be used to interrupt a lengthy game 
and continue playing at a later time.<BR>
Note however that saving the complete machine state has a few
limitations:</P>

<UL>
   <LI>Unsaved print output produced by the matrix printer emulation
   is not retained. See "<A HREF="#Printer">Using the printer</A>" to
   learn how to save the print output.</LI>
   
   <LI>The state of <A HREF="#MountedFolder">mounted Macintosh
   folders</A> is not saved.</LI>
   
   <LI>It is not recommended to save the state while output is being
   written to a disk or tape. The data might be corrupt when the
   state is restored later on.</LI>
</UL>

<P>Instead of saving the complete machine state, you can also choose
to just save the machine configuration. When you open a file saved this
way, a machine is constructed with the configured components, and
the machine is "switched on". In this case it does not continue a
previous run, but starts from scratch.</P>

<H4><FONT COLOR="#990000">Changing starting and stopping behavior</FONT></H4>

<P>The "default machine" defines the type of virtual machine the
application creates when it is started. You can easily configure the
application to use a default configuration of your choice.
To save the current machine as the default, select the
option "Make This the Default Configuration" in the Machine menu.
Alternatively, select
"Preferences" from the Virtual&nbsp;&#93;&#91; menu. The preferences
window allows you to select a pre-configured machine as the default.
</P>
<P><IMG SRC="DefaultConfigPrefs.png" WIDTH=545 HEIGHT=396></P>
<P>
If you never want to save the state of a running virtual machine, you can
tell the application to skip the "save state" sheet when a virtual machine is closed.
When this option is selected, you can always change your mind and still save
the machine state by holding down the "ctrl" key while closing the window.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="General operation of Virtual ][" -->

<H3><FONT COLOR="#990000">
<HR>
</FONT><A NAME=MainWindow></A><FONT COLOR="#990000">General operation</FONT></H3>
<P>
This is what the main window looks like when the application is started, assuming the
Apple&nbsp;//e ROM image has been installed.
</P>

<P><IMG SRC="MainWindow.png" WIDTH=887 HEIGHT=637 ALIGN=bottom></P>

<P>
The main part of the window is the Apple&nbsp;&#93;&#91; screen.
In the example it emulates a monochrome green monitor, but the
leftmost two buttons in the toolbar make it easy to show a color
monitor, or to change "green" to a different color (such as amber).<BR>
The screen as shown in the example is what an Apple&nbsp;//e looks like
when it is switched on: it waits for a bootable diskette. You can get
the Applesoft prompt by pressing Reset (emulated by control-F12 or
the Reset button in the toolbar).<BR>
Next to the screen sits the "peripherals" section, showing the connected
devices. The devices in the default configuration are:</P>

<UL>
   <LI>Two disk drives, connected to a card in slot 6;</LI>
   
   <LI>An Epson FX-80 matrix printer, connected to a card in slot 1;</LI>
   
   <LI>A cassette tape recorder.</LI>
</UL>

<P>Each device icon is a button. The way these buttons and the devices work is described in the next chapters.<BR>
The smaller buttons at the top of the peripherals section can be used to select or create diskettes and other media.
</P>

<H4><FONT COLOR="#990000">Default configuration</FONT></H4>

<P>This is what the default configuration looks like. The default
machine is an Apple&nbsp;//e with</P>

<UL>
   <LI>A 64K RamWorks card in slot 0 (making a total of 128 KB memory);</LI>
   <LI>A Grappler+ card in slot 1;</LI>
   <LI>A Z80 card in slot 2;</LI>
   <LI>A Mockingboard card in slot 4;</LI>
   <LI>An Apple mouse card in slot 5;</LI>
   <LI>A Disk&nbsp;&#93;&#91; card in slot 6;</LI>
   <LI>A Thunderclock Plus card in slot 7.</LI>
</UL>

<P>You can change the configuration to your liking, as explained in 
the "<A HREF="#Configuration">Configuration</A>" section.</P>

<H4><FONT COLOR="#990000">Copying the screen to the Macintosh
clipboard</FONT></H4>

<P>The contents of the Apple&nbsp;&#93;&#91; screen can be copied to
the Macintosh clipboard. This can be done in two ways:</P>

<UL>
   <LI>The regular "Copy" command puts the screen contents on the
   clipboard as a picture.</LI>
   
   <LI>The "Copy as Text" command, also in the Edit menu, puts the
   screen contents on the clipboard as text. This usually results in
   exactly 24 lines of text. However, if the screen is in mixed text
   / graphics mode, only the 4 text lines are copied. The command is
   unavailable if the screen is in full graphics mode.</LI>
</UL>

<H4><FONT COLOR="#990000">Temporarily pausing a virtual machine</FONT></H4>

<P>A virtual machine can temporarily be paused by selecting "Freeze
Virtual Machine" from the "Machine" menu, or by clicking the "Freeze"
button in the toolbar. You can later on resume with "Resume Virtual
Machine" or the same toolbar button. As a shortcut you can also use
the F1 key to pause / resume.</P>

<H4><A NAME=SettingSpeed></A><FONT COLOR="#990000">Setting the speed</FONT></H4>
<P>
Virtual&nbsp;&#93;&#91; faithfully emulates the speed of the original
Apple machines, which was 1 MHz. Maintaining this exact speed is
essential for programs that display animated graphics or produce sound.
There are however situations where it would be nice to have a greater
processing speed: while doing a lengthy calculation for example, or
when accessing the floppy disk. To this purpose Virtual&nbsp;&#93;&#91;
has three modes of operation, which you can choose from the Machine menu
or using the little "Speed" wheel in the toolbar.
</P>

<OL>
	<LI>Regular Speed: in this mode, the virtual machine runs exactly at
	the speed of the original machine. Use this for the genuine
	Apple&nbsp;&#93;&#91; (or //e) experience.</LI>
	<LI>High Speed: if this is selected, the machine runs as fast as
	it can, but falls back to regular speed when it writes output to the screen
	or produces sound. This mode is suitable for game play: some things go 
	fast, like loading and initializing the game, but the game play itself runs
	at regular speed.</LI>
	<LI>Maximum Speed: the machine runs as fast as it can, and only switches
	back to regular speed when it must produce sound. This option is intended
	for unattended tasks like printing, disk copying, compilations and so on.</LI>
</OL>

<P>
A different way to set the machine speed is in the CPU section of the machine configuration, where
you can set the machine speed with steps of 1 MHz.
</P>

<P>
If you have the full license version of Virtual&nbsp;&#93;&#91;, the high speed and
maximum speed settings come with a power management feature: while the Apple&nbsp;II is "idle",
in other words if it isn't doing anything useful, the speed is automatically reduced to "regular".
This saves energy and enhances the battery life on a notebook Mac.
<BR>
If you want, you can switch the power management feature off with the menu item
"Regular Speed if Apple II is Idle", in the Machine menu.
</P>
<P>
Note that the highest effective speed that can be obtained depends on your Macintosh,
on the number of simultaneously open virtual machines, and on other applications
running at the same time.
</P>
<P>
You can preserve battery power even further by selecting the option
"Pause virtual machines if minimized or hidden" in the "Power" section of the application preferences.
The option is switched on by default.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Keyboard emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=Keyboard></A><FONT COLOR="#990000">The Apple&nbsp;&#93;&#91; keyboard</FONT></H3>

<P><IMG SRC="Keyboard.jpg" WIDTH=400 HEIGHT=174 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Key mapping</FONT></H4>

<P>The built-in keyboard of the Apple&nbsp;&#93;&#91; computer has
far fewer keys than your Macintosh keyboard. It even has hardly
enough keys to produce the entire supported character set. For
example, on the original machine the user had to press shift-M to
produce the character "&#93;", and shift-N for "^". The characters
"&#91;" and "\" could not be entered at all, although they could be
displayed on screen.</P>

<P>These restrictions do not apply to the Virtual&nbsp;&#93;&#91;
emulator. All characters in the Apple&nbsp;&#93;&#91; character set
can be entered by typing the corresponding character on the Macintosh
keyboard. This implies that shift-M just produces a capital M, not a
"&#93;".</P>

<H4><FONT COLOR="#990000">The "soft caps lock" feature</FONT></H4>

<P>The keyboard of the original Apple&nbsp;&#93;&#91; and &#93;&#91;+ could 
not be used to enter lowercase characters. Typing any of the letters 
"a" to "z" produced uppercase "A" to "Z".<BR>
The Apple&nbsp;//e keyboard <I>was</I> able to enter uppercase and
lowercase characters, but many programs still expected uppercase
input only.<BR>
To emulate flexible keyboard behavior, Virtual&nbsp;&#93;&#91; has
the "soft caps lock" option. When it is on, the keys "a" to "z"
produce uppercase letters, as on the original Apple&nbsp;&#93;&#91;
keyboard. When the option is off, these keys produce lowercase
letters (or uppercase when shift is also held down), as on the
Apple&nbsp;//e. This option can be toggled with the "Caps" toolbar
button.</P>

<H4><FONT COLOR="#990000">Special keys</FONT></H4>

<P>The Apple&nbsp;&#93;&#91; had four special keys that did not
produce a character. Here is how they are emulated.</P>

<P><IMG SRC="SpecialKeysII.jpg" WIDTH=152 HEIGHT=174 ALIGN=bottom></P>

<UL>
   <LI>Left and right arrow: these keys are emulated by the left and
   right arrow keys on the Macintosh keyboard. The
   Apple&nbsp;&#93;&#91; keyboard did not have a "backspace" key, so
   the left arrow key is the official way to move the cursor to the
   left. In Virtual&nbsp;&#93;&#91; you can also use the Macintosh
   backspace key, but you have to activate this feature in the
   keyboard configuration.</LI>
   
   <LI>Repeat key: The Apple&nbsp;&#93;&#91; keyboard had no
   auto-repeat feature, but it provided a specific key for this
   purpose. This key is not implemented in Virtual&nbsp;&#93;&#91;.
   Instead, it uses the auto-repeat feature of the Macintosh
   keyboard.</LI>
   
   <LI>Reset key: This is an important key. It resets the 6502
   processor and connected devices. On the Apple&nbsp;&#93;&#91;+, it
   had to be pressed together with the control key, in order to
   prevent an accidental reset. In Virtual&nbsp;&#93;&#91;,
   function key F12 acts as the Reset key, and just like on the
   Apple&nbsp;&#93;&#91;+, must be pressed together with the control
   key. Another way to emulate the Reset key is to choose "Reset"
   from the Machine pull-down menu or click the Reset button in the tool bar.<BR>
   For reasons of compatibility with previous versions of
   Virtual&nbsp;&#93;&#91;, ctrl-Backspace also acts as Reset, but
   this only works for the Apple&nbsp;&#93;&#91; and
   Apple&nbsp;&#93;&#91;+, <I>not</I> for the Apple&nbsp;//e.</LI>
</UL>

<H4><FONT COLOR="#990000">Additional keys on the
Apple&nbsp;//e</FONT></H4>

<P>The Apple&nbsp;//e supports a few additional keys.</P>

<P><IMG SRC="SpecialKeysIIe.jpg" WIDTH=471 HEIGHT=63 ALIGN=bottom></P>

<UL>
   <LI>The up and down arrow keys are emulated by the same keys on
   the Macintosh keyboard.</LI>
   
   <LI>The &quot;Delete&quot; key (located at the upper right of the
       Apple&nbsp;//e keyboard) is emulated by the Macintosh backspace
       key, unless the option "Backspace is left arrow" has been set in
       the keyboard configuration. In the latter case the Delete key is
       not available.</LI>
   
   <LI>The Solid Apple key is mapped to the Macintosh "alt"
   key. Note that there can be a conflict here when you need the alt
   key to enter a specific character on the Macintosh keyboard. In that
   case, no "Solid Apple" will be sent to the virtual machine. For example,
   on a Macintosh with a French keyboard you must type alt+` to get the
   character @ (this goes for any Mac application, not just Virtual&nbsp;&#93;&#91;).
   So on such a keyboard it is not possible to enter the combination "Solid Apple-@" in the
   virtual machine. On US and European ISO keyboards this limitation does not exist, because
   the alt key is never needed to type any of the standard ASCII characters.</LI>

   <LI>The Open Apple key is mapped to the Macintosh "Command" key. However, there are some special
       considerations for entering Command key combinations, such as Command+C. By default these combinations
       are handled as in any Mac application: they activate a menu shortcut if one is defined or do nothing otherwise.
       <BR>
       If you use an Apple&nbsp;II program that works with Open Apple key combinations, you can tell
       Virtual&nbsp;&#93;&#91; to disable its menu shortcuts, and forward all Command-key combinations to the
       virtual machine. To enter this mode, press the F5 key, or use the "Quick settings" menu.
       <BR>
       Note that the option goes for <I>all</I> open virtual machines, even for machines that do not support the Open Apple key.
       <BR>
       Also note that a few Command key combinations are handled by the system, such as Command-Tab. These key combinations
       cannot be forwarded to the virtual machine.
    </LI>
</UL>

<H4><FONT COLOR="#990000">Pasting the Macintosh clipboard</FONT></H4>

<P>If the Macintosh clipboard contains text, it can be pasted into
the virtual machine. The behavior is as if each individual character
were typed on the keyboard. This "typing" occurs as fast as the
Apple&nbsp;&#93;&#91; can accept the characters, so no characters are
lost in the process. If the Apple&nbsp;&#93;&#91; is not reading the
keyboard when the text is pasted, the text remains queued. Manual
input is disabled as long as a pasted text is being entered into the
Apple&nbsp;&#93;&#91;. A "newline" character in the text is converted
to the "Return" key on the Apple&nbsp;&#93;&#91;.</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Working with disk images in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=DiskImages></A><FONT COLOR="#990000">Working with disk images</FONT></H3>

<H4><FONT COLOR="#990000">Overview</FONT></H4>

<P>A disk image is a representation, in a single Macintosh file, of an entire floppy disk or
hard disk. Apple&nbsp;II disk image files come in several different formats; the next table
shows the formats that Virtual&nbsp;&#93;&#91; supports.</P>
<P>
<A NAME=DiskFormatTable></A>
<TABLE BORDER=1 WIDTH="100%">
   <TR BGCOLOR="#C8C8C8">
      <TD WIDTH=150>
         <P>Disk image type</P>
      </TD>
      <TD WIDTH=100>
         <P>File extension</P>
      </TD>
      <TD>
         <P>Description</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>5.25" diskette, 16 sectors per track</P>
      </TD>
      <TD>
         <P>.dsk, .do, .po</P>
      </TD>
      <TD>
         <P>A regular diskette with 35 to 40 tracks, used with DOS, ProDOS,
		 UCSD Pascal or CP/M. The size of the disk image file is 140 KB for
		 a 35 track disk, up to 160 KB for a 40 track disk.</P>
      </TD>
   </TR>
   <TR>
       <TD WIDTH=150>
           <P>5.25" diskette, exact replica of real diskette</P>
       </TD>
       <TD>
           <P>.woz</P>
       </TD>
       <TD>
           <P>Stores the data in exactly the same way as a real Disk&nbsp;&#93;&#91;. The format is suitable for both
           regular and copy-protected disk images. The size of a .woz diskette image is typically
           between 200 KB and 250 KB. Virtuall&nbsp;&#93;&#91; supports both version 1 and version 2 of the Woz file format.
           </P>
       </TD>
   </TR>
  <TR>
      <TD WIDTH=150>
         <P>Copy protected 5.25" diskette</P>
      </TD>
      <TD WIDTH=100>
         <P>.nib</P>
      </TD>
      <TD>
         <P>A disk in so-called "nibbilized" form. Although this format supports some copy-protection schemes it
         has some serious limitations, unlike the .woz format. The size of a nib image is 232960 bytes for a
         35 track disk, up to 266240 bytes for a 40 track disk.
        </P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>Copy protected 5.25" diskette (proprietary and deprecated)</P>
      </TD>
      <TD WIDTH=100>
         <P>.v2d</P>
      </TD>
      <TD>
         <P>A proprietary format, capable of supporting many features of the Disk&nbsp;&#93;&#91;,
			including "half-tracks" and tracks of non-standard length. The format is compatible with
			the "D5NI" format used by one of the first Apple&nbsp;II emulators, "Stop
			The Madness". You won't find disks with this format on the Internet. <BR>
            It has been made obsolete by the .woz disk image format.
            </P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>Compressed 5.25" diskette</P>
      </TD>
      <TD WIDTH=100>
         <P>.gz, .gzip</P>
      </TD>
      <TD>
         <P>Any of the above diskette types, compressed with the gzip utility. Many Internet 
		 archives offer diskettes in this form, to save space and bandwidth. Such files can directly
		 be used in Virtuall&nbsp;&#93;&#91;, without the need to expand them first.</P>
      </TD>
   </TR>
   <TR>
       <TD WIDTH=150>
           <P>3.5" diskette</P>
       </TD>
       <TD WIDTH=100>
           <P>.po</P>
       </TD>
       <TD>
           <P>Typically 800KB in size; contains the disk sectors in ascending order. Usually intended for use in ProDOS.</P>
       </TD>
   </TR>
  <TR>
      <TD WIDTH=150>
         <P>Hard disk or 3.5" diskette</P>
      </TD>
      <TD WIDTH=100>
         <P>.2mg, .2img</P>
      </TD>
      <TD>
         <P>A widely used, universal disk image format.</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>Hard disk or 3.5" diskette (legacy format)</P>
      </TD>
      <TD WIDTH=100>
         <P>.hdv</P>
      </TD>
      <TD>
		 <P>A disk format based on one of the Mac Classic DiskCopy formats,
		    "NDIF R/W". If you have DiskCopy disk images, there is a good chance you can convert them to the .hdv
			format by selecting "Convert Legacy Disk Images" from the Media menu. This starts a 
			utility application that allows you to select one or more disk image files and then tries to
			convert them. If successful, the converted disk images are saved with the ".hdv" 
			extension in the same folder as the original. The original disk images remain untouched. 
			Note the conversion works one-way only.
			<BR>
			For the technically interested: the hdv format is extremely straightforward: it just contains 
			all 512 byte disk blocks in ascending order.
		 </P>
      </TD>
   </TR>
</TABLE>
<P>
Apart from disk images, Virtual&nbsp;&#93;&#91; also lets you mount a Macintosh folder as an 
Apple&nbsp;&#93;&#91; floppy disk or a ProDOS hard disk; this provides a way to
copy files from one environment to the other.

<H4><FONT COLOR="#990000">Converting original Apple&nbsp;&#93;&#91; diskettes to disk image files</FONT></H4>
<P>Many disk images with original programs are available on internet, but Virtual&nbsp;&#93;&#91; can
also help you converting your own Apple&nbsp;II diskettes to disk images, using the A2V2 utility application.
If you still have an original Apple&nbsp;&#93;&#91; with a working disk drive,
Virtual&nbsp;&#93;&#91; can help you converting original diskettes to disk image files.
To this purpose, select "Convert Apple II Diskettes" from the "Media" menu. This will
start a separate application, named A2V2 (short for Apple&nbsp;&#93;&#91; - Virtual&nbsp;&#93;&#91;).
Read <A HREF="../../PlugIns/A2V2.app/Contents/Resources/A2V2Help/A2V2Help.html">the application's Help section</A>
to learn how to do the conversion. A2V2 can convert in both directions:
from diskettes to disk image files and vice versa.</P>

<P>Because the capacity of an Apple&nbsp;&#93;&#91; diskette is very small by todays standards
(typically 140 KB), you might end up with many diskette image files. Virtual&nbsp;&#93;&#91; offers
several ways to keep track of the diskettes and their contents.</P>

<P>These options are discussed below.</P>

<H4><FONT COLOR="#990000">Organizing your disk image files: create a "favorite disk folder"</FONT></H4>

<P>If you don't have too many disk images, it is recommended to put all your disk images in one folder
(with subfolders as necessary), and to make this the "favorite disk folder" in the
Virtual&nbsp;&#93;&#91; preferences. That way you can use the "Disks" button in the toolbar to open 
your disks folder in the Finder and drag a disk to an empty Virtual&nbsp;&#93;&#91; disk drive.</P>
<P><IMG SRC="TBDisks.jpg" WIDTH=97 HEIGHT=84 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Organizing your disk image files: the "search" window</FONT></H4>

<P>
A powerful mechanism offered by Virtual&nbsp;&#93;&#91; is a built-in search window. It lets you
find the disk images that contain an Apple&nbsp;II file with a specific name, no matter where these
disk images are on your Mac. This works for diskette images with extension .dsk, .po or .do, and
their gzipped equivalents. It also works for hard disk and 3.5" disk image files.
This feature relies on Apple's Spotlight technology, so the disk image files must be in folders that
are included in the Spotlight search (by default your entire home folder, and everything in it, is included).
</P>
<P>
To use the feature, select "Search Apple II Disk Images" from the "Media" menu.
</P>
<P><IMG SRC="SearchAllDisks.png" WIDTH=739 HEIGHT=559 ALIGN=bottom></P>
<P>When no disk image files appear at all, or when you feel there should be more disk images than 
are actualy shown, choose "Import Disk Images in Spotlight" from the Application menu. The search window
will be updated while new disk images are found.
</P>
Initially, the window shows you all disk images belonging to the selected file systems (DOS, ProDOS, etc.).
You can narrow down the displayed collection by typing (part of) an Apple&nbsp;II file name
in the search field and pressing return.
<BR>
For example, suppose you want to find all Apple&nbsp;II files that have the term "adventure" in their name. Open
the search menu, type the word you are looking for, and press return. This is what might appear.
</P>
<P><IMG SRC="SpotlightExample.png" WIDTH=739 HEIGHT=559 ALIGN=bottom></P>
<P>Apparently, these disk images all contain one or more files with the requested name. To insert one of the disks
in an emulated floppy disk drive, double-click its line, or drag it to a disk drive.
</P>
<P>Because the search mechanism uses the Spotlight feature, you can also search disk images without
starting Virtual&nbsp;&#93;&#91;, by just typing a file name in the system-wide Spotlight search field.
Selecting one of the disk images from the Spotlight menu launches Virtual&nbsp;&#93;&#91; with
the selected disk inserted.
</P>
<P>Note that when you select a disk image file in the Finder, and open the "Info" 
window, it shows you the Apple&nbsp;II file system.</P>
<P><IMG SRC="FSInfo.png" WIDTH=228 HEIGHT=76 ALIGN=bottom></P>

<P>Note further that files on so called "copy protected" disk images will probably not be found,
because these diskettes usually have a non-standard file system. Such disks <i>can</i>
however be used in Virtual&nbsp;&#93;&#91;'s emulated disk drives.</P>

<H4><FONT COLOR="#990000">Searching for disk images on the command line</FONT></H4>
<P>
Advanced users can make command-line Spotlight queries. For example, to list all woz2 disk images on your Mac, open a
Terminal window and do:
</P>
<code>
    <P style="text-indent: 40px">mdfind &apos;kMDItemFSName == *.woz && * == woz2&apos;</P>
</code>
<P>
You can use the mdls tool to find what other meta data is stored for a specific disk image.
</P>

<H4><FONT COLOR="#990000">Quickly inspecting your disk image files using "QuickLook"</FONT></H4>
<P>
Virtual&nbsp;&#93;&#91; contains a module for the macOS QuickLook feature. It is installed
automatically with Virtual&nbsp;&#93;&#91;, and allows you to quickly inspect the contents of most 
Apple&nbsp;II diskette and hard disk images. In the Finder, select the Cover Flow view, as shown in the 
screen snapshot. Alternatively, select a disk image and press the space bar to go to the QuickLook view.
<BR>
The quick look shows the diskette with an 1980's style label, and the names of the file on the diskette. It also
shows the file system, such as DOS or CP/M.
</P>
<P><IMG SRC="DiskView.png" WIDTH=972 HEIGHT=400 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Write-protecting a disk</FONT></H4>
    
<P>An original Apple II diskette could be write-protected by closing its "write-protect notch" with 
a piece of tape. In Virtual&nbsp;&#93;&#91; this can be done by selecting "Set Disk Properties..."
from the Media menu. This not only works for diskettes, but also for hard disk images. 
As with the original Apple&nbsp;II, you can change the write-protect state only while the disk
is not inserted in the drive.
<BR>
Alternatively, you can select the disk image file in the Finder and set its "Locked" property in
the Info window.
</P>

<H4><FONT COLOR="#990000">Setting volume numbers of DOS and ProDOS diskette images</FONT></H4>
<P>
In Apple&nbsp;II DOS and ProDOS, diskettes have a volume number, which is assigned when formatting
the diskette. In Virtual&nbsp;&#93;&#91;, the equivalent of these diskettes are the disk images 
with file extension .dsk, .do and .po. These disk images only contain the diskette data, and not the
meta data such as the volume number. For that reason they are assigned the default volume number 254
when you insert them in a disk drive.
<BR>
This default volume number works fine in most of the cases, but sometimes Apple&nbsp;II software 
requires a specific volume number in order to run. To make this posible, Virtual&nbsp;&#93;&#91; 
allows you to set a specific volume number, by selecting "Set Disk Properties..." from the Media menu. 
You can only change the volume number for diskettes while they are not inserted in the disk drive.
<BR>
Thechnically, the volume number is stored as a so called "extended attribute" in the Mac file system.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="The floppy disk drives in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=DiskDrives></A><FONT COLOR="#990000">Using the floppy disk drives</FONT></H3>

<P><IMG SRC="Diskdrive.jpg" WIDTH=242 HEIGHT=157 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Supported disk image formats</FONT></H4>

<P>The original Apple Disk&nbsp;&#93;&#91; accepts 5.25" diskettes with 35 tracks.
However, it was possible to move the disk drive arm to track 36, and some copy protection schemes
actually relied on this. Furthermore, disk drives existed (not made by Apple) that supported
40 tracks. In order to support a wide range of disk formats, the disk drive emulation of 
Virtual&nbsp;&#93;&#91; supports up to 40 tracks.<BR>
The 5.25" diskette image formats supported in Virtual&nbsp;&#93;&#91; are listed <A HREF="#DiskFormatTable">here</A>.
</P>
<P>
Apart form disk images, the disk drive accepts a Macintosh folder to be mounted as a DOS 3.3 diskette. 
This feature is described in more detail below.
</P>

<H4><FONT COLOR="#990000">Inserting and removing a disk</FONT></H4>

<P>In order for a disk image to be inserted in a disk drive it must
have <A HREF="#DiskFormatTable">the appropriate file extension</A>.
Inserting a disk can be done in several ways: one is to click
the appropriate media button in the peripherals section and then select the
disk image and the target drive in the file open panel that appears.
The same can be done by selecting "Insert Diskette Image" from the
"Media" menu.<BR>
In the file open panel you will also see a checkbox to make the disk
image a part of the configuration. This means that when you save the
configuration and later re-open it, the selected disk image is
already inserted in the disk drive. This allows you to make a
"turnkey" system, which automatically boots from an already inserted
disk.</P>

<P>A different way to insert a disk is to simply drag the disk image file or shared folder from
its Finder window (or from the disk search window) to an empty disk drive.
An empty disk drive can be recognized by the opened drive door. Using
this technique, you can still make the disk part of the configuration by
holding down the "alt" key while dropping the file or folder.</P>

<P>The third way to insert a diskette is to double-click its icon in the
Finder or the disk search window.
<BR>
When double-clicking a disk image, Virtual&nbsp;&#93;&#91; will be started when it isn't
running already, and the diskette is inserted in the disk drive with the
highest slot number and the lowest drive number. This is the disk drive
used for booting the machine, so effectively you can boot a DOS session by
simply double-clicking the DOS boot diskette.<BR>
If Virtual&nbsp;&#93;&#91; already runs when you double-click the 
diskette image, it will be inserted in any free disk drive. When no such
drive is available, a new virtual machine will be created.</P>

<P>A disk can be removed by clicking on the disk drive or by using "Eject Disk"
in the Media menu. Note that a
disk can be removed while it is being used for I/O; this is of course
not recommended, just as with a real Apple&nbsp;&#93;&#91;!<BR>
If the disk image or mounted folder is part of the configuration, the
application presents a confirmation dialog. Ejecting the disk removes it
from the configuration.</P>

<H4><FONT COLOR="#990000">Creating a new disk image</FONT></H4>

<P>A new, uninitialized disk can be inserted by clicking the "new
disk" media button.</P>

<P><IMG SRC="NewDisk.png" WIDTH=48 HEIGHT=48 ALIGN=bottom></P>

<P>In the dialog that appears, specify the name of the disk, the
target drive, and the disk image type: .dsk or .woz.
Just as with the real Apple&nbsp;&#93;&#91;, the new
disk must be initialized by the operating system before it can be
used.</P>

<P><A NAME=MountedFolder></A></P>

<H4><FONT COLOR="#990000">Mounting a Macintosh folder</FONT></H4>

<P>A Macintosh folder can be mounted as a DOS 3.3 diskette. This is
an easy way to share files between a virtual machine and the
Macintosh environment. What actually happens is that the files in the
folder are converted to Apple DOS format (if necessary) and stored on
a temporary (in-memory) disk image, which is inserted in a disk
drive. When files are modified in the virtual machine, they are
copied back (with conversion as necessary) to the Macintosh
folder.<BR>
This approach implies that the mounted Macintosh folder is limited to
the maximum diskette size DOS 3.3 can handle, which is approximately 200 KB.
Furthermore, it should contain only files, not subfolders (because DOS 3.3
doesn't support a file hierarchy). The file
names must adhere to the DOS 3.3 file name rules: the first character
must be alphabetic, the file name must contain at most 30 characters
and must not contain a comma. Virtual&nbsp;&#93;&#91; checks on these
conditions and ignores any files that do not meet these requirements.<BR>
</P>

<P>In Apple DOS every file has a file type, such as A(pplesoft
Basic), I(nteger Basic) or B(inary). In order to handle the files
correctly, Virtual&nbsp;&#93;&#91; must be aware of the DOS file type
of every shared file. Furthermore, some files need conversion. A text
file for example has different representations in Apple DOS and in
macOS, so if you want to edit a DOS text file in the macOS
environment it must be converted. Virtual&nbsp;&#93;&#91; has a
feature that allows you to specify the file type of each shared file,
and the conversion rules if appropriate. A dialog window is
automatically presented when a Macintosh folder is mounted that
contains files with unknown DOS file type. You can also open this
window when you choose "Assign Apple DOS Types" from the "Media"
menu. This is what the dialog looks like:</P>

<P><IMG SRC="AssignDOSTypes.png" WIDTH=732 HEIGHT=591 ALIGN=bottom></P>

<P>The list presents all files and folders in the selected folder.
Invalid files are marked with a little red cross, as are folders.
Valid files that have already been assigned a DOS type have a green
dot. Files that have never been assigned a DOS type appear with the
exclamation mark icon, and are assigned type Binary by default.<BR>
You can use the popup menus in "Type" and "Macintosh Format" to
change the settings. The next table lists your options:</P>

<P><TABLE BORDER=1 WIDTH=600>
   <TR BGCOLOR="#C8C8C8">
      <TD WIDTH=150>
         <P>DOS Type</P>
      </TD>
      <TD>
         <P>Macintosh Format</P>
      </TD>
      <TD>
         <P>Address</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>B (Binary)</P>
      </TD>
      <TD>
         <P>No Conversion: the file is stored in the Macintosh folder
         exactly as it is stored on the DOS diskette.</P>
      </TD>
      <TD>
         <P>Not Applicable</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>B (Binary)</P>
      </TD>
      <TD>
         <P>Strip Prefix: in Apple DOS, all binary files have a 4
         byte prefix, containing the load address and the length of
         the file. With this option, the prefix is omitted from the
         stored Macintosh file.</P>
      </TD>
      <TD>
         <P>This specifies the load address to be used when
         converting the file to DOS format. You can enter a decimal
         number or a hexadecimal number preceded by '$'. So for
         example $2000 is the same as 8192.</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>T (Text)</P>
      </TD>
      <TD>
         <P>No Conversion: the file is stored in the Macintosh folder
         exactly as it is stored on the DOS diskette.</P>
      </TD>
      <TD>
         <P>Not Applicable</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>T (Text)</P>
      </TD>
      <TD>
         <P>Macintosh Text: in Apple DOS, text files are encoded
         differently than on Macintosh. Select this option if you
         want to be able to edit the text file in the macOS
         environment.</P>
      </TD>
      <TD>
         <P>Not Applicable</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=150>
         <P>A (Applesoft Basic)<BR>
         I (Integer Basic)<BR>
         R (Relocatable)<BR>
         S (Undefined)<BR>
         X (Undefined)<BR>
         Y (Undefined)</P>
      </TD>
      <TD>
         <P>Always copied without conversion.</P>
      </TD>
      <TD>
         <P>Not Applicable</P>
      </TD>
   </TR>
</TABLE>
</P>

<P>Virtual&nbsp;&#93;&#91; remembers the file types and conversion
rules you assign, and it automatically uses these settings the next
time the folder is mounted.</P>

<P>Note there are some special considerations when using shared
folders:</P>

<UL>
   <LI>While a folder is mounted, you should not use another macOS application
   to make changes to the corresponding Macintosh files. If you do, all
   changes will be lost as soon as the diskette is copied back to the Macintosh
   folder.</LI>
   
   <LI>It is possible, though not recommended, to re-format a mounted
   folder diskette with the INIT command. However, this reduces the capacity
   of the diskette to 140 KB.</LI>
   
   <LI>If a DOS file name contains the "/" character, the name
   cannot be used on macOS. In that case Virtual&nbsp;&#93;&#91;
   converts the file name by changing all "/" to "\", and putting
   another "\" in front of the file name.</LI>
   
   <LI>Virtual&nbsp;&#93;&#91; supports so called "sparse text
   files". This feature is used in Apple DOS to store random access
   files in a space-efficient way. A side effect is that such a file
   can appear to be be much larger in the Macintosh folder than it is
   on the DOS diskette.</LI>
</UL>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Hard disk and 3.5 inch diskette emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=HardDiskDrives></A><FONT COLOR="#990000">Hard disk and 3.5" floppy disk drive</FONT></H3>

<P><IMG SRC="HDUnit.jpg" WIDTH=319 HEIGHT=135 ALIGN=bottom></P>

<P>&nbsp;</P>

<H4><FONT COLOR="#990000">General description</FONT></H4>

<P>Hard disks and 3.5" floppy disks share the same technical characteristics, and
Virtual&nbsp;&#93;&#91; supports both with an imaginary type of emulated disk
drive, called "OmniDisk". This device can handle disk images
of any size up to 32 MB (the maximum supported by 
ProDOS), including 400 KB and 800 KB floppy disk images.</P>
<P>
The hard disk / 3.5" disk image formats supported by Virtual&nbsp;&#93;&#91; are 
listed <A HREF="#DiskFormatTable">here</A>.
</P>
<P>
Apart form disk images, the OmniDisk accepts a Macintosh folder to be mounted as a ProDOS hard disk.
This allows for an easy way to exchange files between the Apple&nbsp;&#93;&#91;
and the Macintosh environments. Note this feature requires a full license to be fully functional.
</P>

<H4><FONT COLOR="#990000">Setting up hard disk drives</FONT></H4>

<P>An OmniDisk must be connected to an emulated SCSI
card, which fits in any free slot except slot 0. One SCSI card can
control up to two OmniDisk drives. Refer to the chapter "<A HREF="#Configuration">configuration</A>"
for a description of how to insert an emulated card and connect
devices to it.</P>

<H4><FONT COLOR="#990000">Using the hard disk and 3.5" floppy images</FONT></H4>

<P>Disk images can be inserted and ejected just like floppy disk
images. The only difference is you use the OmniDisk buttons in the devices
view.</P>

<H4><FONT COLOR="#990000">Using a Macintosh folder as a ProDOS hard disk</FONT></H4>

<P>A Macintosh folder can be used as a ProDOS disk by "inserting" it in
an OmniDisk drive. You can do this in two ways: either choose "Mount Folder as ProDOS Disk"
from the "Media" menu, or simply drag a folder from the Finder to an empty
OmniDisk in Virtual&nbsp;&#93;&#91;.</P>
<P>A few restrictions apply to the mounted folder:</P>
<UL>
	<LI>The total folder size must not exceed 32 MB;</LI>
	<LI>Individual files are limited to 16 MB.</LI>
</UL>
<P>These restrictions are imposed by the ProDOS system. If Virtual&nbsp;&#93;&#91; detects
that these conditions are not met, it will refuse to mount the folder.</P>
<P>While the folder is mounted, it is not accessible from the Finder. You'll 
notice the icon gets a lock and a "no entry" sign to indicate this.</P>

<P><IMG SRC="MountedProDOSFolder.png" WIDTH=208 HEIGHT=200></P>

<P>
The restricted access to a mounted folder is lifted when you eject the disk by clicking the OmniDisk icon.
From that point you'll have full access to the folder again in the Mac environment.<BR>
So what if Virtual&nbsp;&#93;&#91; crashes while a folder is mounted? In that case the disk wasn't ejected,
so the folder is inaccessible, and you won't be able to mount it again. To solve this, Virtual&nbsp;&#93;&#91;
has an option to reset the state of a mounted folder; you'll find it in the "Media" menu as "Reset Mounted ProDOS Folder".
Use it in case of emergency only!
</P>

<P>To use the mounted folder, you must boot the virtual machine from a ProDOS system disk.</P>

<P>Every file and every folder in the mounted folder will be present on the ProDOS disk; any
changes made on the ProDOS disk (like making new files and directories or changing existing files) result
in the same change in the Macintosh folder. Note that a Macintosh file might have a name
that is not allowed in ProDOS; in that case Virtual&nbsp;&#93;&#91; composes an alternative
name for use in ProDOS, but this name will be as close to the original as possible.
</P>
<P>
The contents of text files are treated in a special way: the Apple&nbsp;&#93;&#91; software expects each line
to end with a carriage return character (ASCII 13), whereas macOS uses a linefeed character
(ASCII 10) for this purpose. Virtual&nbsp;&#93;&#91; sees to it that these codes are automatically converted
between the Mac and ProDOS environments.
All non-text files are stored in the Macintosh folder without any conversion.
</P>
<P>
If the virtual machine deletes files or directories on the shared folder, the same items are deleted from the Macintosh
folder. However, as you would expect on the Mac, they are not deleted right away, but moved to the trash.
</P>
<P>
The mounted ProDOS folder disk is almost 100% compatible with a "real" ProDOS disk. You can even install the ProDOS
system on it, which will give you a bootable disk. The only thing <I>not</I> supported is
making a full disk copy (block-by-block) <I>to</I> a mounted ProDOS folder disk. An attempt to do so will result
in an error message.</P>
<P>
You can store the state of a virtual machine while a folder is mounted as a ProDOS disk; if you do, the
folder will keep its access restrictions, because making any changes to the folder would render the saved
state invalid and useless. When you open the saved state later on, the folder is mounted automatically and
you can continue where you left off.
</P>
<P>
Finally, the mounted ProDOS folder feature is only fully functional with a full Virtual&nbsp;&#93;&#91; license.
Without the license you can still mount a Mac folder, and examine the directories in ProDOS, but you cannot
read or write any files.
</P>

<H5>ProDOS file types and subtypes</H5>
<P>
The ProDOS "catalog" command shows file types and subtypes.
</P>
<P><IMG SRC="ProDosCatalog.png"></P>
<P>
Although the file type is shown as a 3-character code, it is internally stored as a number between 0 and 255. For
example, file type 4 is a text file (ProDOS shows it as "TXT"); file type 252 is a Basic program (.BAS). When mounting
a Mac folder as ProDOS disk, this is how Virtual&nbsp;&#93;&#91; determines each file's type:
<UL>
    <LI>If the Mac file has an extended attribute named "prodos.FileType", its value (one byte) is used as
        the ProDOS filetype.</LI>
    <LI>If the Mac file does not have this extended attribute, Virtual&nbsp;&#93;&#91; checks if the file name
        ends in an extension that matches a ProDOS file type, such as TXT, BIN or $FE. If so, the extension is used
        to determine the ProDOS file type, and rest of the Mac file name is used as the ProDOS name.</LI>
    <LI>In all other cases, the ProDOS file type is 0 (displayed as $00 by ProDOS).</LI>
</UL>
Note that using the "prodos.FileType" extended attribute makes the shared folder compatible with files extracted from a
Shrinkit archive by <A HREF="https://itunes.apple.com/app/shrink-fit-x/id498905285" target="_blank">Shrink-Fit X</A>, a
utility app to expand shk archives.
<BR>If the virtual machine creates a new file on the shared disk, it assigns a file extension based on the ProDOS file
type; it does not create the "prodos.FileType" extended attribute.
</P>
<P>
The ProDOS subtype is a 16-bit integer number. Its meaning depends on the file type.
For example, for binary files it indicates the load address; for random-access files it represents the record length.
Virtual&nbsp;&#93;&#91; stores the auxiliary type as extended file attribute "prodos.AuxType" (this is compatible with
Shrink-Fit X). If a Mac file does not have this extended attribute, a default value is assumed.
<BR>
Note that versions of Virtual&nbsp;&#93;&#91; up to 7.3 used a different way to store the subtype, namely in the
file's resource fork. When mounting a shared folder with files created by a previous version, this information is
automatically converted to the "prodos.AuxType" extended attribute.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Printer emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=Printer></A><FONT COLOR="#990000">Using the printer</FONT></H3>

<P><IMG SRC="Printer.jpg" WIDTH=242 HEIGHT=161 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">General description</FONT></H4>

<P>Virtual&nbsp;&#93;&#91; supports four different emulated printers:</P>

<UL>
   <LI>An Epson FX-80;</LI>
   <LI>An Apple ImageWriter II;</LI>
   <LI>A simple "text only" printer;</LI>
   <LI>Printing to the Macintosh clipboard.</LI>
</UL>

<P>The printer is represented by a "Printer" button in the peripherals section.
While the Apple&nbsp;&#93;&#91; is printing, the green light on the
printer blinks. When you press the button, the printer goes offline and
the application shows a print preview. You can also click the button with
the "alt" key held down: this just sets the printer offline without
showing the preview. Pressing the button a second time sets the
printer online again.</P>

<H4><FONT COLOR="#990000">The Epson FX-80 printer</FONT></H4>

<P>The Epson FX-80 was a very popular printer in the 1980's, and is
therefore supported by many Apple&nbsp;&#93;&#91;
programs.<BR>
A printer on the Apple&nbsp;&#93;&#91; must always be connected via a printer
interface card. When you want to use the Epson printer, insert an emulated
Grappler+ card in any slot (traditional was to use slot #1) and connect the
Epson printer to it. Read the section on <A HREF="#Configuration">Configuration</A>
for more information on how to do this.
<BR>
The emulation supports most of the functions of the original printer,
such as different character pitches, bold, italic and underlined
text, margins, tabs, and graphic modes. Actually the only feature
not supported is printing proportional characters.<BR>
The technology used by the emulator for text rendering is very
different from the technology used in the original Epson. As a
result, the characters are somewhat different, but the size and general
looks of the characters are just like the real thing, as this example shows:</P>

<P><IMG SRC="EpsonFontComparison.jpg" WIDTH=595 HEIGHT=496 ALIGN=bottom></P>

<P>Apart from all Epson built-in character types, the emulation is
also able to print graphics. This allows you to run a program like
Broderbund's PrintShop. The print shown here was created with the built-in
Printshop demo in the Applescript menu of Virtual&nbsp;&#93;&#91;.<BR>
<IMG SRC="EpsonGraphics.png" WIDTH=250 HEIGHT=347 ALIGN=bottom></P>

<P>Using the Epson printer is straightforward. While the
Apple&nbsp;&#93;&#91; is printing, the green light on the "Printer"
button blinks. When printing has finished, click the Printer button
to see a preview.</P>

<P><IMG SRC="PrintPreview.png" WIDTH=887 HEIGHT=637 ALIGN=bottom></P>

<P>While the preview is open, the emulated printer is offline, so the
Apple&nbsp;&#93;&#91; will hold new output. The printer comes back
online when the preview sheet is closed.<BR>
The preview shows the printed output on one or more pages of fanfold
paper. The length of one page can be chosen in the Printer section of
the Configuration panel, and is 11 inches by default.<BR>
Two blue triangles, on the left and right hand side of the paper,
indicate the "current position": this is where the next line of
output will appear.<BR>
At the bottom of the sheet are a few buttons:</P>

<UL>
   <LI>Leave in Printer: pressing this button closes the preview
   sheet without affecting the output.</LI>
   
   <LI>Tear Off and Save: this button saves the print output in a pdf
   file. It then clears the print output from the preview and closes
   the sheet. So metaphorically this is like tearing off the fanfold
   paper and storing the output in a safe place.</LI>
   
   <LI>Tear Off and Delete: this clears the output without saving it
   and closes the sheet.</LI>
</UL>

<P>After saving the output to a pdf file you can use Apple's Preview
application to view the output or print it on a real printer.</P>

<P>The "Action" menu in the preview sheet contains a number of
special options.</P>

<P><IMG SRC="EpsonActionMenu.png" WIDTH=162 HEIGHT=198 ALIGN=bottom></P>

<UL>
   <LI>Skip Page is like the "Form Feed" button on the real Epson: it
   skips to the top of the next page.</LI>
   
   <LI>Skip Line moves the paper forward one line, like the Line Feed
   button on the original printer.</LI>
   
   <LI>Auto Linefeed toggles the printer between two modes. When
   "Auto Linefeed" is "on", every carriage return character also
   advances the paper one line; when it is "off", carriage return
   just moves the print head to the left margin. Normally, the 
   printer interface card takes care of generating the appropriate
   control characters, and therefore the recommended setting is "off".
   When you find that the Apple&nbsp;&#93;&#91; software prints
   all lines on top of each other, try switching this option on and
   print again.</LI>
   
   <LI>Use 8th Bit is another technical option. When it is activated,
   all 8 bits of every byte are sent to the printer; when switched
   off the high order bit of every byte is ignored. This option
   should normally be off.</LI>
   
   <LI>Hex Dump Mode puts the printer in a special state: all output
   is printed as hexadecimal numbers. This option was often used on
   the Epson printer for debugging purposes. Note that changing this
   option clears the print output and closes the sheet.</LI>
   
   <LI>Reset Printer puts the printer in the initial state, as if it
   were just switched on. It also clears the print output and closes
   the preview sheet.</LI>
</UL>

<P>The Printer section of the <A HREF="#Configuration">Configuration</A>
panel lets you set additional printer options, corresponding with the
"DIP switches" in the original printer.
<BR>Be aware that some Apple&nbsp;II applications need some tweaking of these settings. For example, the
number of bits in the connection (7 or 8) can make a big difference. Most applications only
work with 7 bits, but some need 8. The best way to go is experimenting a bit with the settings
until the output looks as expected.</P>

<P><IMG SRC="EpsonConfig.png" WIDTH=546 HEIGHT=483 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">The ImageWriter II printer</FONT></H4>
<P>
From a user perspective, the ImageWriter II is very much like the Epson FX-80. 
Both are capable of printing text in different styles, and both can print graphics. From
a technical perspective however, the printers are quite different. As a result,
some Apple II programs are compatible with just one of these printers. For example
the "MousePaint" program, which came with the Apple Mouse, can only print on the
ImageWriter, not on the Epson.
<BR>
The ImageWriter II printer must be connected via a serial interface card.
When you want to use the ImageWriter II, insert an emulated
"serial printer card" in any slot (traditional was to use slot #1) and connect the
printer to it. Read the section on <A HREF="#Configuration">Configuration</A>
for more information on how to do this. Note that the serial printer card is actually 
the Apple super serial card, pre-configured to be used with this printer.
<BR>
The ImageWriter II did have a unique feature, not found in the Epson, namely the
ability to print colors when a color ribbon was installed. This feature is fully 
supported by Virtual&nbsp;&#93;&#91;.
<BR>
The ImageWriter II allowed the user to select three different print
qualities: draft, correspondence, and near letter quality (NLQ). The emulation only 
supports the "correspondence" setting, which is the most versatile and has less 
restrictions than the other two. Note that text is printed with the Macintosh font
rendering engine, which in practice gives even better results than NLQ on the 
original printer.
</P>
<P>
Operating the ImageWriter in Virtual&nbsp;&#93;&#91; is identical to operating
the Epson priner, so refer to the previous section for details.
</P>

<H4><FONT COLOR="#990000">The simple "text only" printer</FONT></H4>

<P>This printer can be connected to either the Grappler+ or the serial printer card.
It writes all printed output to an
ASCII text file. When printing is finished, or even during printing,
you can open the file and process it in whatever way is useful. The
name of the printer file is of the form "Printer x - slot y.txt". In
this name, x is simply a number starting at 1; y is the slot number
the printer is connected to. All printer files are created on the
desktop; the location cannot be configured. If a printer file with
the same name already exists, new printed output is appended to the
end of the file, so in effect the printer file is like an infinite
supply of fanfold paper. When a virtual machine is closed the
corresponding printer files that are still empty are removed, so the
desktop will not be cluttered with empty files.</P>

<P>The easiest and safest way to inspect the printed output is by
clicking the "Printer" button in the peripherals section. First, this
button places the emulated printer in the "offline" state, so the
Apple&nbsp;&#93;&#91; will hold new output until the printer goes
online again. Next, the corresponding output text file is opened in
TextEdit. To continue printing, close the text file and press the
"Printer" button to put the printer online again.</P>

<H4><FONT COLOR="#990000">Printing to the Macintosh clipboard</FONT></H4>
You can temporarily override the current printer by selecting "Print to Clipboard"
from the Edit menu. While this mode is in effect, all printed characters go to
the Macintosh clipboard, so they can be pasted in a text editor or word processor
after printing has finished. Be aware that clipboard printing is only intended for
ASCII text output. This makes it ideal for making a text copy of an Applesoft Basic 
program; first list it to the clipboard printer, then paste it into a Macintosh
text editor. The "print to clipboard" mode is terminated by selecting the same menu
option again. 

<!-- OppleSegEnd -->
<!-- OppleSegStart="Serial port emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">
<HR>
</FONT><A NAME=Serial></A><FONT COLOR="#990000">The serial interface</FONT></H3>

<H4><FONT COLOR="#990000">Introduction</FONT></H4>

<P>In the early 80's, a serial connection was an inexpensive, simple, and therefore popular way to
connect the Apple&nbsp;II to another computer. This could either be a local computer, directly
connected with a serial cable, or a remote computer, accessible via a modem. There was no
such thing as the Internet back then, but a network of bulletin board systems (BBS's) existed 
that allowed their members to log on using a modem (typically 1200 baud, sometimes even slower).
</P>

<H4><FONT COLOR="#990000">Serial port emulation</FONT></H4>
<P>
Virtual&nbsp;&#93;&#91; emulates the Super Serial card (SSC), which was produced by Apple and was the de 
facto standard for serial communication on the Apple&nbsp;II. This card implemented the universally
accepted RS-232 standard.
<BR>
The SSC emulation can be connected to the "outside world" in two different ways.
<UL>
    <LI>Connect to a real serial port on your Macintosh. Even though Macs don't come with
        a built-in serial port, there are still several ways to use this medium. One option is a
        USB-to-serial adapter; another one is is Bluetooth.</LI>
    <LI>Experimental, currently in beta: send and receive data through Unix named pipes, thereby offering the option
        to connect to other applications running on the same Mac. Note that this feature requires a full license;
        it is not available with the limited license of Virtual&nbsp;&#93;&#91;.</LI>
</UL>
The Virtual&nbsp;&#93;&#91; configuration panel presents you with a pop-up menu that contains all
serial devices available on your Mac. Exactly what it shows depends on your hardware configuration,
but here is an example of what it could look like.
</P>

<P><IMG SRC="SerialPopup.png" WIDTH=277 HEIGHT=187 ALIGN=bottom></P>

<P>
In this example, the &quot;KeySerial&quot; and the two &quot;USA28X&quot; items belong to a USB-to-serial adpater. The last item
in the menu allows using Unix named pipes (in a full-licensed version only), and the other entries are
Bluetooth connections.
</P>

<H4><FONT COLOR="#990000">Configuring the serial connection</FONT></H4>
<P>
Configuring the serial communication setup requires some patience, just
as with the original Apple&nbsp;II. There are three areas to take into account: the DIP switches on the 
Super Serial card, the device connected to it, and the Apple II software.
</P>
<P>
The DIP switches on the SSC control a number of customizable options like the baud rate at power-on.
These options can be configured in a separate window, by pressing the &quot;Configure...&quot; button below the
picture of the SSC in the main configuration panel.
</P>
<P><IMG SRC="SSCConfig1.png" WIDTH=288 HEIGHT=382 ALIGN=top> <IMG SRC="SSCConfig2.png" WIDTH=544 HEIGHT=470 ALIGN=top>
</P>
<P>The DIP switches cannot be manipulated directly with the mouse, but they will move when you select the corresponding
options.<BR>
Note that many of these settings can also be set by the Apple&nbsp;II software, which is actually
more convenient than setting the DIP swiches and restarting the virtual machine.<BR>
The options that can <I>not</I> be changed by the Apple&nbsp;II software are communications / printer mode and 
interrupt mode. When the latter is selected the SSC triggers an interrupt when data
is sent or received, in order for the Apple&nbsp;II to deal with that event immediately. Only activate
this option if you know the Apple&nbsp;II software supports it!
<BR>
Note that some of the DIP switches cannot be changed at all; they must have a fixed setting in order for the
emulation to work properly. In particular, Virtual&nbsp;&#93;&#91; does not support the old Apple serial interface
modes of the SSC.
<BR>
Note further that switch 8 is a dummy on both banks; it has no function.
</P>
<P>
The second area to worry about is the Macintosh device connected to the SSC emulation. Note
you can select this device and the associated options without the need to restart the virtual machine.
</P>

<P><IMG SRC="SerialDeviceConfig.png" WIDTH=271 HEIGHT=143 ALIGN=bottom></P>

<P>These checkboxes correspond to three RS-232 signals the SSC can receive: <u>D</u>ata <u>S</u>et <u>R</u>eady,
<u>D</u>ata <u>C</u>arrier <u>D</u>etect, and <u>C</u>lear <u>T</u>o <u>S</u>end.
These signals all tell something about the status of the connected device. For example,
the DCD signal is generated by a modem when it has a connection over a phone line with another modem.
This signal is useful for an Apple&nbsp;II program waiting for an incoming call: when DCD is activated, the
program knows someone made a dial-up connection.
<BR>
Unfortunately, due to a lack of strict standards, some Apple&nbsp;II programs interpret these signals
in a different way. For example, the firmware of the SSC only sends a character when
it detects that the DCD signal is ON. This effectively prevents the program to send a dial-up command to
a modem! With the original Apple&nbsp;II this was solved in hardware, by connecting the DCD pin
to another pin, to ensure it was always ON. This same technique is supported by Virtual&nbsp;&#93;&#91;:
checking a box in the configuration panel sets the corresponding signal to ON.
<BR>
Also, not all serial devices generate these signals. Usually the Apple&nbsp;II software will
verify the DSR signal, which indicates that the connected device is powered on. However,
when the other device does not generate this signal, or when the line is absent from the serial cable, the
only option is to force the signal to be ON.
<BR>
The CTS signal is used for hardware handshake and should usually not be forced ON.
<BR>
More information on these signals can be found in <A HREF="https://en.wikipedia.org/wiki/RS-232" target="_blank">Wikipedia</A>.
</P>

<P><IMG SRC="AsyncSend.png" WIDTH=187 HEIGHT=26 ALIGN=bottom></P>
<P>The "asynchronous send" option controls a timing aspect. When the option is turned
on (the default), Virtual&nbsp;&#93;&#91; forwards each outgoing byte to macOS, and immediately allows the
Apple&nbsp;II to send the next byte. Meanwhile, macOS sends these bytes whenever it has the opportunity to
do so, in other words: asynchronously. As a result, there can be some delay between the Apple&nbsp;II sending the byte
and macOS actually delivering it to the device at the other end of the line. Usually this works fine, and
this approach results in a throughput that is almost identical to the original Super Serial card.
<BR>
However, there are circumstances where the asynchronous approach fails. For example, consider a situation
in which the Apple&nbsp;II sends characters to a printer, and pauses after each &quot;newline&quot; character, in order
to give the printer the opportunity to move the paper. In that case, the asynchronous mode would not work,
because the Apple&nbsp;II must pause after the newline character has been <I>received</I> by the printer
(and not after the character has just been sent by the Apple&nbsp;II program).
The only way to accomplish this, is to use the synchronous mode: the Apple&nbsp;II will not send
the next byte until the current byte has been delivered to the other side.
<BR>
Note that synchronous mode causes overhead and considerably slows down the output stream.
</P>

<P>
As a last step of your configuration efforts, the Apple&nbsp;II software must be set up to match
the selected emulated hardware options.
Most applications offer the Super Serial card as one of the standard configuration options.
<BR>
When you want to use a modem, and the modem you use is not listed in the program's configuration
options, the best guess is to configure it as a &quot;Hayes compatible&quot; modem. Also, choose a
moderate baud rate; 1200 or 2400 baud are speeds typically used in the Apple&nbsp;II days. When
it all works, you can try to increase the speed.
</P>

<H4><FONT COLOR="#990000">Configuring the serial connection for Unix named pipes</FONT></H4>
<P>
This is an experimental feature, currently in beta test. It allows a technically skilled user user to connect the super
serial card to other applications running on the same Mac. The feature will be extended in future version of Virtual&nbsp;&#93;&#91;,
based on user feedback.
<BR>
With this option activated, the super serial card emulation uses two Unix named pipes, one for input and one
for output. The pipes have fixed names, &quot;IN&quot; and &quot;OUT&quot; (as seen from the standpoint of the virtual machine), and are
located in the directory /tmp/VII-<I>machine-name</I>-slot<I>n</I>. So fo example, for a machine in an Untitled window,
with the super serial card in slot 2, the two named pipes are /tmp/VII-Untitled-slot2/IN and /tmp/VII-Untitled-slot2/OUT.
<BR>
Virtual&nbsp;&#93;&#91; creates these pipes when it starts a virtual machine, replacing any old versions of the
same files. In order to use the pipes, both must be connected at the other end as well.
</P>
<P>
Some points of attention for configuring the super serial card with named pipes:
<UL>
    <LI>Use the SSC in communications mode, not printer mode.</LI>
    <LI>Baud rate and data bits are taken into account - Virtual&nbsp;&#93;&#91; will slow down the data transfer
    and strip high-order bits as necessary.</LI>
    <LI>Stop bits and parity are ignored.</LI>
    <LI>The &quot;asynchronous send&quot; option is always on - it cannot be switched off.</LI>
    <LI>If the other end of the output pipe expects text, set data bits to 7 and activate &quot;Send auto LF after CR&quot;.</LI>
</UL>
</P>
<H4><FONT COLOR="#990000">Example of using Unix named pipes</FONT></H4>
<P>
This example demonstrates the serial pipes in operation by connecting to the Terminal application. It is just an example;
the feature is intended for connecting to an application that implements an actual communication channel, such as internet.<BR>
First configure a Virtual&nbsp;&#93;&#91; machine with the super serial card in
slot 2. Configure the card to use 7 data bits and send a line feed (LF) after each carriage return (CR). Select the Unix
named pipes option, and configure as shown below. Note that &quot;force DCD&quot; must be selected because we won't connect to a
modem device.
</P>
<P><IMG SRC=SerialPipesConfig.png WIDTH=588 HEIGHT=430 ALIGN=bottom></P>
<P>
Start the Terminal application, and open two windows. In one window execute the command<BR>
cat /tmp/VII-Untitled-slot2/OUT<BR><BR>
In the other window execute the command<BR>
cat $stdin > /tmp/VII-Untitled-slot2/IN<BR><BR>
In the RS-232 monitor of the peripherals section you will now see the DSR and CTS lines become available, which is an
indication that the emulation detected that both pipes are now open.
</P>
<P>
Finally, at the Applesoft prompt in the virtual machine give the command<BR>
PR#2:IN#2<BR><BR>
In the peripherals section the RS-232 output lines light up, indicating that the super serial card has been
activated. All output of Virtual&nbsp;&#93;&#91; is now also shown in the output terminal window; lines typed in the
input terminal window appear in Virtual&nbsp;&#93;&#91;.
<BR>
Unfortunately the &quot;return&quot; key in the input terminal window is ignored by the Apple&nbsp;&#93;&#91; because the terminal
sends a linefeed character, whereas the Apple&nbsp;&#93;&#91; expects a carriage return character.
</P>

<H4><FONT COLOR="#990000">Monitoring the serial connection</FONT></H4>

<P>
When you have a Super Serial card installed, Virtual&nbsp;&#93;&#91; shows a status panel in the peripherals section.
The panel shows the status of the RS-232 signals, and can be a great help in troubleshooting. 
The signals are described in <A HREF="https://en.wikipedia.org/wiki/RS-232" target="_blank">this Wikipedia article</A>. 
When a signal is OFF, it is shown in dark red; when a signal is ON (or &quot;asserted&quot;), it lights up. The signals are
presented as seen from the standpoint of the Apple&nbsp;II, so &quot;RD&quot; indicates the Apple&nbsp;II receives data,
and &quot;TD&quot; means the Apple&nbsp;II is transmitting data.
</P>
<P><IMG SRC="SerialPanel.png" ALIGN=bottom></P>
<P>
The signals on the left are input for the Super Serial card; the signals on the right are output. You can
click on the button to get a pop-up menu that gives the same options as the configuration panel: you can
force any of the input signals to be ON, and you can select (a)synchronous send mode.
</P>
<P>
If you are familiar with the RS-232 standard, you might notice that the signal &quot;RI&quot; (Ring Indicator) is
missing in the status panel; the Super Serial card does not support it.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Cassette recorder emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">
<HR>
</FONT><A NAME=CassetteRecorder></A><FONT COLOR="#990000">Using the cassette recorder</FONT></H3>

<P><IMG SRC="CassetteRecorder.png" WIDTH=256 HEIGHT=190 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">General description</FONT></H4>

<P>The cassette recorder emulation is able to record a file
with the sounds produced by the Apple&nbsp;&#93;&#91; cassette
output, and also to read such a file and feed it to the
Apple&nbsp;&#93;&#91; cassette input. Effectively, this provides a
fully functional cassette tape emulation. The cassette tape files are
actually standard AIFF files. If you are curious how they sound, you
can rename a cassette tape file to have the ".aiff" extension, and play it.
It is recommended to turn down the volume a bit, because the sound is loud and ugly.
</P>
<P>
It is even possible to sample
an original Apple&nbsp;&#93;&#91; cassette tape and read it in the
emulator. Refer to "Format of the cassette tape file" for
details.
</P>
<P>Remember that the main purpose of the cassette tape support is
nostalgia. It is much more practical to store data on an emulated
disk, because the cassette files can become pretty big and the I/O is
time consuming.
</P>

<H4><FONT COLOR="#990000">Playing a cassette tape</FONT></H4>

<P>To "play" a cassette tape, it is sufficient to "insert" the cassette tape
file in the cassette recorder. This can be done
in a similar way as inserting a disk in a disk drive: either click
the appropriate media button and select a file, or drag the file from
the Finder to the cassette recorder icon in the peripherals section. The
cassete recorder icon will show a "Play" symbol, but actually the
tape starts playing when the first sample is read by the
Apple&nbsp;&#93;&#91; software. So there is no hurry to
start the Apple&nbsp;&#93;&#91; software that reads the tape, even if
the tape is inserted first.</P>

<P><IMG SRC="TapePlay.jpg" WIDTH=110 HEIGHT=65 ALIGN=bottom></P>

<P>You can try this using the "Welcome tape" distributed with the application.
It contains a simple Applesoft program. First make sure you see the Applesoft prompt
("&#93;"), then type "LOAD" and press return. Now insert the tape as described. Reading the
tape takes about 30 seconds. When the prompt shows up again you can type
"RUN" to run the program just loaded.</P>

<P>To eject the cassette tape click the cassette recorder icon.</P>

<H4><FONT COLOR="#990000">Recording to a cassette tape</FONT></H4>

<P>It is not possible to overwrite an existing tape file. To make a
recording, create a new tape by clicking the "New cassette tape" icon
in the peripherals section and specify the name of the tape in the file
save panel that appears. The cassette tape icon shows a "Recording"
symbol, and recording starts right away, so the first few seconds of
the recording are probably silence. Note however that after the
Apple&nbsp;&#93;&#91; software has produced the last sound sample, no
more silence is recorded, so there is no rush to remove the tape
after recording has finished; the file won't grow more than
necessary.</P>

<P><IMG SRC="TapeRecord.jpg" WIDTH=110 HEIGHT=65 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Format of the cassette tape
file</FONT></H4>

<P>
If you want to try sampling an actual Apple II
cassette tape, you'll need to know the exact file format:</P>

<UL>
   <LI>The file has to be uncompressed AIFF; no audio compression is
   supported.</LI>
   
   <LI>Sample size can be 8 or 16 bits. However, 16 bits does not
   provide an advantage over 8 bits, because the
   Apple&nbsp;&#93;&#91; accepts only 8 bit samples. When writing a
   cassette tape, the emulator outputs 8 bits per sample.</LI>
   
   <LI>Sample rates up to 64000 Hz are supported. High rates give
   more reliable results than low rates. When
   writing a cassette tape, the emulator uses a sample rate of 16000
   Hz.</LI>
</UL>

<P>When reading such a sample in the virtual machine, you might end
up with "ERR" displayed on the screen. If this happens, the
emulated software <I>did</I> detect a signal (which is good), but was
not able to read all data. In this case, try a few different settings
for the playback volume slider. You'll find it in the "Cassette
interface" section of the configuration panel.</P>

<P>Note that the entire file is kept in memory as long
as the cassette tape is in use.</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="80-column mode emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=Column80></A><FONT COLOR="#990000">Using the 80-column card with the Apple&nbsp;&#93;&#91; and
Apple&nbsp;&#93;&#91;+</FONT></H3>

<P>Note this chapter is only applicable to the
Apple&nbsp;&#93;&#91;(+). For the Apple&nbsp;//e, see "<A HREF="#AppleIIe80Column">Using
80-column display on the Apple&nbsp;//e </A>".</P>

<P><IMG SRC="80-Column.png" WIDTH=684 HEIGHT=530 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Selecting 80-column video or built-in
video</FONT></H4>

<P><FONT COLOR="#000000">The Virtual&nbsp;&#93;&#91; emulator has the
option to present 80-column text video by inserting an emulated
80-column card in slot 3. Note that the card does not work in any
other slot! The 80-column card contains its own video generator
circuitry, and is connected to the video monitor through a "video
soft switch". This switch has two inputs, designated as the &quot;primary&quot; and &quot;secondary&quot;
video signals. Virtual&nbsp;&#93;&#91; has a configuration option to select which video
generator is connected to the primary input and which one is connected to the secondary input. You'll find this
configuration in the &quot;Quick settings&quot; menu as well as in the machine settings panel.
The Quick settings menu is the easiest way to swicth between the two video generators.
<BR>
The Apple&nbsp;II software selects the primary or secondary video by refering to annunciator #0.
POKE -16296,0 selects the primary video (address $C058); POKE -16295,0 selects the secondary video ($C059).
</FONT></P>

<P><FONT COLOR="#000000"><IMG SRC="VideoSoftSwitch.png" WIDTH=591 HEIGHT=431 ALIGN=bottom>
</FONT></P>

<H4><FONT COLOR="#990000">Selecting the 80-column card for keyboard
input</FONT></H4>

<P>As the 80-column card is in slot 3, "PR#3" will shift input and
output to the card. Or when you start the UCSD Pascal system, it
determines the card automatically and switches I/O to it. In all
cases it is still necessary to direct the 80-coumn video output to
the monitor as described above.</P>

<P>The 80-column card supports the full ASCII character set (upercase
and lowercase). In order to work correctly, the "shift key
modification" must be applied. You'll find this setting under the
keyboard configuration. The "shift key modification" in the original
Apple&nbsp;&#93;&#91; involved connecting pin 2 of the keyboard
encoder board to push button 2 (pin 4) of the game I/O connector.
This modification allowed the software on the 80-column card to
detect whether the shift key was pressed in combination with any of
the other keys.<BR>
Note that in order to enter lower case letters, "Soft Caps Lock" must
be turned off in the "Quick settings" menu.</P>

<H4><FONT COLOR="#990000">80-columns card special
characters</FONT></H4>

<P>When the keyboard is correctly configured for use with the
80-column card, all characters can be entered in the normal way,
except two: when you enter "^", the 80-column card translates it to
"N". Likewise, it translates "@" to "P". This is a result of the
original Apple&nbsp;&#93;&#91; keyboard layout. These two characters
must be entered with the "ctrl" key pressed.</P>

<P>Also, the 80-column card has a few interesting special key
combinations. The below table summarizes all special key
combinations.<BR>
<TABLE BORDER=1>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-^</P>
      </TD>
      <TD>
         <P>Enter the character "^"</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-@</P>
      </TD>
      <TD>
         <P>Enter the character "@"</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-E</P>
      </TD>
      <TD>
         <P>Inverse mode</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-C</P>
      </TD>
      <TD>
         <P>Normal (non-inverse) mode</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-D</P>
      </TD>
      <TD>
         <P>Make hardcopy of the screen on the emulated printer.</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH=100>
         <P>ctrl-shift-A</P>
      </TD>
      <TD>
         <P>Toggles the soft caps lock of the 80-column card. This is
         basically the same as the soft caps lock of the emulated
         keyboard (command-shift-A). You can use either option to
         enter lower case characters.</P>
      </TD>
   </TR>
</TABLE>
</P>

<H3><FONT COLOR="#990000">

<HR>

<A NAME=AppleIIe80Column></A>Using 80-columns display on the Apple&nbsp;//e</FONT></H3>

<P><FONT COLOR="#000000">The Apple&nbsp;//e has built-in 80-column
software support. The only additional thing needed is a memory card
in the auxiliary slot. By default, such a card is present in a newly
configured virtual Apple&nbsp;//e. It allows 80-column display,
double-hires, and adds 64K of memory to the machine, bringing the
total amount of memory to 128K. Note that this card can be configured
to contain more memory (up to 16 MB).</FONT></P>

<P><FONT COLOR="#000000">The Apple&nbsp;//e contains only one video
generator, which is used to produce either a 40-column display or an
80-column display, so no "video switcher" component is used, like in
the Apple&nbsp;&#93;&#91;.</FONT></P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Apple mouse emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Mouse></A>Using the Apple Mouse</FONT></H3>

<P><FONT COLOR="#000000"><IMG SRC="MousePaint.png" WIDTH=684 HEIGHT=530 ALIGN=bottom>
</FONT></P>

<P><FONT COLOR="#000000">Virtual&nbsp;&#93;&#91; emulates the
AppleMouse&nbsp;// card. This allows you to run programs such as
MousePaint or GEOS.<BR>
Apple&nbsp;II software that uses the mouse must switch it
"on" in order to become active. When this happens, the Macintosh
mouse pointer is hidden, and replaced by whatever mouse pointer the
Apple&nbsp;II software provides.</FONT></P>

<P>The mouse emulation is designed to smoothly integrate
with the Macintosh mouse: when the mouse pointer enters the window,
it instantly turns into the Apple&nbsp;II mouse, and the
Macintosh mouse pointer is hidden. The reverse happens when the
mouse moves out of the window: in that case it becomes a Macintosh
mouse pointer again.</P>
<H4><FONT COLOR="#990000">Relative mouse mode</FONT></H4>
<P>
Unfortunately, smooth integration with the Macintosh mouse is not possible for
all Apple&nbsp;II programs. It works fine with MousePaint for example, but it
cannot work with GEOS. To solve this problem, the mouse emulation supports a special
mode of operation: "relative mouse mode".
You'll find it in the "Quick settings" menu. When this mode is switched on, 
programs like GEOS work well, at the expense of Macintosh mouse integration.
Once the mouse has entered the window, it will be captured
there, and you must hold down the command key to let it escape.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Real time clock emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Clock></A>Using the real time clock</FONT></H3>

<P>The Apple&nbsp;&#93;&#91; was not equipped with a built-in real time clock.
Several extensions existed to provide a clock, and Virtual&nbsp;&#93;&#91;
emulates three of them.</P>

<UL>
	<LI>The Mountain Computer AppleClock card can be used with DOS in the Apple&nbsp;&#93;&#91;
	and Apple&nbsp;&#93;&#91;+ computers. It cannot be used with the Apple&nbsp;//e or
	with ProDOS.</LI>
	<LI>The Thunderclock Plus card can be used on any of the machines. After its introduction in 1980 
	it became the de facto standard for the Apple&nbsp;II computers, and it is well integrated in ProDOS. 
	It is recommended to insert this card when you run ProDOS, because the operating system 
	then automatically uses it to time stamp your files.</LI>
	<LI>The "no-slot clock" is a clock chip that fits underneath a ROM chip in the Apple&nbsp;//e. 
	It was a popular option, because it provides a real time clock without occupying a slot.
	To use it, a software driver must be installed on the ProDOS boot disk.</LI>
</UL>

<P>The emulated clocks take the current time and date from the Macintosh clock. Only the
Thunderclock emulation allows adjusting the date and time; the others do not. However, when you
reboot the virtual machine, or create a new one, the Thunderclock will always be reset to the
Macintosh system clock. Changing the Thunderclock time does not affect the Macintosh clock.</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Using the Z80 and CP/M in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Z80></A>Using the Z80 card and CP/M</FONT></H3>

<P><IMG SRC="CPM.png" WIDTH=684 HEIGHT=530 ALIGN=bottom></P>

<P><FONT COLOR="#000000">A popular enhancement for the
Apple&nbsp;&#93;&#91; (and //e) computers was the Z80 card. This card
contains a Zilog Z80 or Z80A processor, plus hardware to transfer the
flow of control from the main 6502 processor to the Z80 and vice
versa (only one of the processors can be active at any time). The Z80
card made it possible to run the CP/M operating system, and gave
access to popular applications like WordStar, DBase and SuperCalc. It
also allowed the use of programming languages like Turbo Pascal,
Fortran, and even COBOL.<BR>
The Z80 card in Virtual&nbsp;&#93;&#91; emulates the Z80A processor.
You can configure the processor to run at a speed of either 2 MHz or
4 MHz.<BR>
To use the card you need a bootable Apple&nbsp;&#93;&#91; CP/M disk
image. The boot software on this disk searches for the presence of a
Z80 card. When it detects one, it switches to the Z80A processor.
After booting is complete, the CP/M prompt is presented.</FONT></P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Using joystick and game paddles in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=GamePaddles></A>Using the joystick / game paddles</FONT></H3>

<P><IMG SRC="Joystick.jpg" ALIGN=bottom> <IMG SRC="xgamepad.jpg" WIDTH=125 HEIGHT=128 ALIGN=bottom></P>

<P><FONT COLOR="#000000">The Apple&nbsp;II came with
two game paddles. Each paddle provided an "analog" input by turning a
knob, and a "one-bit" input by pushing and releasing a button. Replacing the two paddles by one joystick
was a popular enhancement.<BR>
The Game I/O connector of the Apple&nbsp;II allows for
connecting up to 4 analog inputs and 3 one-bit inputs. Virtual&nbsp;&#93;&#91;
emulates all of these connections. The best way to play the old games is using a
USB or Bluetooth game controller. Alternatively, you can control the game input with
the keyboard and mouse.
<BR>
Virtual&nbsp;&#93;&#91; will automatically use the game controller if it detects one.
Note however that a one-time setup might be required, as described below.<BR>
</FONT></P>

<H4><FONT COLOR="#990000">Emulating the game paddles with a USB / Bluetooth game controller</FONT></H4>

<P>If Virtual&nbsp;&#93;&#91; detects a USB or Bluetooth game pad, it automatically maps the available controls to
the emulated Apple&nbsp;II game inputs. You can inspect and change these mappings by selecting "Configure Game
Controller" from the "Virtual&nbsp;&#93;&#91;" menu (or by clicking the game pad button in the toolbar). In the
dialog that appears you can select a game device, and link its controls to a corresponding Apple&nbsp;II input,
such as "Paddle #0 Analog Value", or "Paddle #1 Button".</P>

<IMG SRC="ConfigGameCont.png" WIDTH=652 HEIGHT=639 ALIGN=bottom>

<P>If you are not sure which button on your game pad is "Button 1", just press a button, and it will be selected
in the list of elements. The same goes for joysticks.
<BR><BR>After selecting an element and a game connection, click the Link button to connect the two
(or Unlink to break the connection).</P>
<IMG SRC="ConfigGameContDetail.png" WIDTH=652 HEIGHT=46 ALIGN=bottom>
<P>
A typical setup for a joystick would be
<UL>
    <LI>Link the X axis of your gamepad to the Paddle Analog #0 input. This is the default setting.</LI>
    <LI>Link the Y axis of your gamepad to the Paddle Analog #1 input. This is the default setting.</LI>
    <LI>Link two convenient buttons to Paddle Buttons #0 and #1.</LI>
    <LI>Click Calibrate and follow the on-screen instructions to fine-tune the game pad.</LI>
</UL>
Note that some games require you to invert the direction of the Y-axis; this can be done with the
"Reversed" check box. Whether or not this is necessary can easily be discovered by playing the game.
</P>
<P>
Here is a little Applesoft Basic application to check if your game pad or joystick behaves correctly. It continuously
displays lines with four game paddle values (#0 to #3). Move your joystick or game paddles to see the values change.
They should run from 0 to 255, and have 127 as their neutral value.
<BR>
To run it, start a standard Apple&nbsp;//e. You don't have to boot from a diskette; just click "Reset" to go to the
Applesoft Basic prompt. Now copy the next few lines and paste them in Virtual&nbsp;&#93;&#91;
</P>
<P>
<code>
10  PRINT  PDL (0); TAB( 10); PDL (1); TAB( 20); PDL (2); TAB( 30); PDL (3)
<BR>
20  GOTO 10
<BR>
RUN
</code>
</P>
<P>
Another little Basic program lets you test paddles #0 and #1, which are typically used when connecting a joystick.
The first two columns show the analog value and push button of paddle #0, the other two columns do the same for paddle #1.
</P>
<P>
<code>
10  PRINT  PDL (0); TAB( 10); PEEK ( - 16287); TAB( 20); PDL (1); TAB( 30); PEEK ( - 16286)
<BR>
20  GOTO 10
<BR>
RUN
</code>
</P>
<P>
You can assign two special actions to buttons on the game device:
"Pause / Resume" and "Pause and Configure". The first one pauses the
entire virtual machine, and therefore is useful to temporarily
suspend game play. Pressing the same button resumes the game. The
second option pauses the virtual machine and shows the game
controller configuration panel. This is useful when you want to try
different settings for a specific game.<BR>
Note that the game controller mappings are part of the overall
configuration of Virtual&nbsp;&#93;&#91;, not just of one specific
virtual machine configuration. The game controller settings are
saved automatically.</P>

<H4><FONT COLOR="#990000">Emulating the game paddles with keyboard and mouse</FONT></H4>
<P>
Virtual&nbsp;&#93;&#91; lets you control the game paddle inputs with the Mac keyboard and mouse, albeit in a limited way.
In the configuration of the game connector, you can activate the arrow keys to be used like a joystick.
This may work fine for some games, but be aware that it does not give you the same amount of
control a real joystick does. A joystick produces values from 0 to 255. With the keyboard arrows, the
possible values are limited to only three: 0, 127, and 255.
<BR>
Also be aware that many Apple&nbsp;II games have a built-in option for keyboard play. This probably
gives a better user experience than emulating the joystick with the Mac keyboard!
</P>
<P>
You'll find the "Game connector" configuration panel in the "Built-in connections" section of the
machine configuration.
</P>
<P>
<IMG SRC="GameConfigKeyboard.png" WIDTH=278 HEIGHT=364 ALIGN=bottom></P>
</P>
<P>
The left / right arrow keys control game paddle number 0, and the
up / down keys control paddle number 1. When you notice that pressing the "up" arrow
actually moves your game character down, click the "Flip vertical motion" checkbox. 
<BR>The emulated joystick is self-centering; when you release the arrow keys the joystick
goes back to the neutral value.
</P>
<P>
As a shortcut to activate the arrow keys, you can also select "Use Arrows as Joystick" 
from the "Quick settings" menu.
</P>
<P>
You can operate the paddles' push buttons with the mouse buttons or the modifier keys on the keyboard. If you want to
use the command key for this purpose, it is recommended to disable the Virtual&nbsp;&#93;&#91; command key shortcuts
using the "Quick settings" menu.
<BR>
Note that push button #2 is not available if it is being used in the "shift key modification", required for the
Apple&nbsp;&#93;&#91;(+) 80-column card.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Sound emulation in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

</FONT><A NAME=Sounds></A><FONT COLOR="#990000">Working with sound</FONT></H3>

<H4><FONT COLOR="#990000">Overview</FONT></H4>
Sounds played an important role in the Apple&nbsp;&#93;&#91; computer. First
of all, it had an internal speaker, controlled by the software. It could do more
than just produce simple "beep" sounds; many games used the mechanism to produce
music and sound effects. Secondly, there were the sounds produced by the hardware.
Everyone who used an Apple&nbsp;&#93;&#91; knows the "clackety-clack" 
sound of the disk drive when you booted the operating system. Finally, you could
increase the sound capabilities of the machine with third party hardware; the most
popular was the Mockingboard card.
<BR>
Virtual&nbsp;&#93;&#91; supports all these options, and allows you to control their
behavior:
<UL>
    <LI>The toolbar contains a slider to set the volume of the internal speaker</LI>
    <LI>The different machine sounds can be switched on and off in the application preferences</LI>
    <LI>The Mockingboard card is availabe in the machine configuration panel</LI>
</UL>

<H4><FONT COLOR="#990000">Mockingboard</FONT></H4>
The Mockingboard card was able to produce much higher quality sounds than the internal
speaker. It came in different flavors; the one supported by Virtual&nbsp;&#93;&#91;
emulates two sound chips that together can produce 6 simultaneous sounds. The
Mockingboard card is used in some popular games, such as Ultima V. When the
Apple&nbsp;&#93;&#91; asks you to identify the card, specify type "A", or
"Sound II".

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Movie></A>Recording a movie</FONT></H3>

<P>Virtual&nbsp;&#93;&#91; lets you easily record a QuickTime movie of
everything that happens on the emulated Apple&nbsp;II screen.
Just select "Make Movie of Apple II Screen" from the File menu. The application
will present a standard File Save panel to let you select where the movie
must be saved. After that, recording starts, and will continue until you
select "Stop Movie Recording" from the File menu. After recording has stopped, 
the movie will automatically be opened in the QuickTime movie player.
</P>
<P>
If you pause the virtual machine, movie recording also pauses. It 
continues when you resume the virtual machine.
</P>
<P>
During recording, the movie is written to a temporary file on your disk. When you
stop recording, the temporary file is moved to the location you selected. This might
take a few seconds.
</P>
<P>
Virtual&nbsp;&#93;&#91; records at 20 frames per second. The movies typically take
3 to 6 MB of disk space per minute. The feature does not record sound.
</P>
<P>
Note that the movie recording option is only available in the full license version of the application.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Character sets and international keyboards in Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=CharacterSet></A>Working with character sets and international keyboards</FONT></H3>

<H4><FONT COLOR="#990000">About character sets</FONT></H4>

<P>The computer's "character set" is the collection of all characters that can be displayed on
the text screen. The US
model of the Apple&nbsp;II computer was equipped with the <A HREF="https://en.wikipedia.org/wiki/ASCII">
standard ASCII characters</A>, but
international models usually had an alternative character set, with characters
for specific languages. For example, the French model supported characters such as
&agrave;, &eacute;, and &ccedil;. These characters replaced @, {, and \, because the
character coding space was limited.
<BR>
The international Apple&nbsp;II machines came with a switch that allowed the user to
instantly switch between character sets. The same functionality is available in
Virtual&nbsp;&#93;&#91;. The "Quick settings" pull-down menu contains a list of available
character sets.
</P>
<P><IMG SRC="CharSetMenu.png" WIDTH=439 HEIGHT=304 ALIGN=bottom></P>
<P>By selecting a character set, the screen is immediately updated. This example shows how the Apple&nbsp;//e
welcome line is shown in the Latin character set and the Greek character set, respectively.</P>
<P><IMG SRC="LatinExample.png" ALIGN=bottom></P>
<P><IMG SRC="GreekExample.png" ALIGN=bottom></P>

<H4><FONT COLOR="#990000">About international keyboards</FONT></H4>

<P>International Apple&nbsp;II computers supported international characters, both on the screen and
on the keyboard. To that purpose they were equipped with a special character generator rom that defined 
both the international and the standard ASCII characters.
For example, on a French keyboard you could press the
key labeled &eacute;, and if the French character set was selected, an &eacute; would
actually appear on the screen.<BR>
Selecting a character set in Virtual&nbsp;&#93;&#91; not only updates the screen, but also maps the special
characters on your Macintosh keyboard to the
equivalent Apple&nbsp;II character code. So for example, if you have a French Macintosh, and you set
Virtual&nbsp;&#93;&#91; to the French character set, pressing the key labeled &eacute; 
will produce an &eacute; on the screen. However, if you select the "Latin" character set (the
standard ASCII characters), pressing the same key will not produce a character on the screen.
<BR>
Because the keyboard behavior obviously depends on the currently selected character set, you'll see
a little flag symbol at the top left of the window to remind you what the current setting is.
</P>
<P><IMG SRC="LanguageIcon.png" WIDTH=133 HEIGHT=33 ALIGN=bottom></P>

<H4><FONT COLOR="#990000">Character sets in Virtual&nbsp;&#93;&#91;</FONT></H4>

<P>The application comes with a number of predefined character sets, as shown above.
The character sets "Latin" and "Latin Uppercase Only" are the ones representing the
standard ASCII characters. The "uppercase only" variant was used in the Apple&nbsp;&#93;&#91;
and the Apple&nbsp;&#93;&#91;+, because these machines lacked lowercase character support.
The "Latin" set was standard in the Apple&nbsp;//e, and contains all ASCII characters
plus a number of special characters (the so called "mouse characters", used to draw user interface
elements such as window borders).</P>

<P>Note that the Bulgarian character set is based on the Pravetz-82 (Правец-82), a popular
Apple&nbsp;&#93;&#91; clone. The character set works best when you install the Pravetz-82 system ROM.
</P>

<H4><FONT COLOR="#990000">Defining your own character sets</FONT></H4>

<P>
In the Apple&nbsp;II computer the characters were defined in a character generator ROM, which
could be replaced by a customized ROM. Virtual&nbsp;&#93;&#91; offers the same feature. In order
to do this, you must provide the application with the following:
<UL>
	<LI>A bitmap file with the character definitions. The format of this file is described below.</LI>
	<LI>Optionally, a bitmap with a picture of the "flag" symbol to be shown at the top left of
	the main window when your character set has been selected. If you omit this, no symbol will be shown.</LI>
	<LI>Optionally, a translation table to map keyboard characters to your character set. If you omit
	this, no keyboard mapping will take place.</LI>
</UL>
</P>
<P>
The character definition bitmap should be placed in the directory ~/Library/Application Support/Virtual
&#93;&#91;/CharacterSets. The file contains pictures of all symbols in the character set, and
must be structured as follows:
<UL>
   <LI>The file must contain a bitmap saved as PNG or TIFF.</LI>
   <LI>The width of the bitmap must be exactly 128 pixels.</LI>
   <LI>The height of the bitmap must be at least 64 pixels.</LI>
   <LI>The bitmap depth must be 1 or 8.</LI>
   
   <LI>Each character of the set is defined in a cell of 8 x 8
   pixels. This implies that the entire character definition bitmap
   contains 8 rows of 16 characters each. Note that the rightmost
   pixel column of each character cell is ignored, because characters
   on the Apple&nbsp;II computer are only 7 pixels wide.</LI>
   
   <LI>A black pixel represents the background; any other value represents "white",
       and is part of the character.</LI>
   
   <LI>The first two character rows of the bitmap define the symbols of the
   "alternate" character set on the Apple&nbsp;//e computer. Their
   ASCII values range from 64 to 96, and these characters are shown
   if the alternate character set has been activated by the Apple&nbsp;II
   software. These symbols are ignored on the Apple&nbsp;&#93;&#91; and the 
   Apple&nbsp;&#93;&#91;+.</LI>
   
   <LI>The 3rd to 8th rows of the bitmap define the characters with
   ASCII values 32 to 127.</LI>
</UL>
As an example, here is the definition file of the character set
"Latin", used in a standard Apple&nbsp;//e.
</P>
<P><IMG SRC="LatinChars.png" ALIGN=bottom></P>

<P>
The second element of your own character set, the "flag" symbol representing the character set, can
be any picture format macOS is able to read. It is recommended to use the tiff or png format.
For best results, make the picture at most 11 pixels high and at most 16 pixels wide.
The picture must be stored in the same directory as the character set definition file.
</P>

<P>
The individual files, along with the keyboard translation table, are tied together in an 
XML file with this path: ~/Library/Application Support/Virtual &#93;&#91;/CharacterSets/International.plist.
<BR>
It is recommended to create such a file with the "Property List Editor" application. It's format can
best be explained by showing an example.
</P>
<P><IMG SRC="InternationalDef.png" ALIGN=bottom></P>
<P>
This example contains two custom character defintions, named "My character set" and "Yet another character set". 
These names will appear in the Character Set menu. If you choose a name already in use by a built-in set, your definition
<I>replaces</I> the built-in one. So if you want to add a new character set, be sure to choose a unique name.
<BR>
Each character set entry is itself a dictionary with three elements: the name of
of the character set definition file, the name of the associated icon file (the "flag" symbol), and the
keyboard translation table. You can leave the icon file name empty if you don't want to assign one.
<BR>
The keyboard translation table contains two columns: the first is the character typed on the Macintosh
keyboard; the second is the resulting ASCII code (in the range 0 - 127) that will be input in the virtual 
machine. You can specify the second column value as either a number (the ASCII value) or as a string
(the actual character). The first column must be one single character, and it must <I>not</I> be in the standard
ASCII range. So for example, you cannot translate the character "a" to something else, nor can you translate a
control code or a function key. You can, however, translate non-ASCII characters, as shown in the example.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Configuring Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Configuration></A>Configuration</FONT></H3>

<H4><FONT COLOR="#990000">Overview</FONT></H4>

<P><FONT COLOR="#000000">Virtual&nbsp;&#93;&#91; has many
configurable options. Different virtual machines can have different
configurations. The configuration can be saved using the "Save
Configuration" choice of the File menu. Use the "Open..." choice of
the File menu to create a virtual machine from a saved configuration
(or simply double-click a configuration file in the
Finder).</FONT></P>

<P><FONT COLOR="#000000">To change the configuration of a virtual
machine, choose "Configure..." from the Machine menu, or click the
"Setup" button in the toolbar. The configuration of the current
machine is presented in a sheet, like this:</FONT></P>

<P><IMG SRC="Config.png" WIDTH=886 HEIGHT=636 ALIGN=bottom></P>

<P><FONT COLOR="#000000">The configurable options are presented in
the left pane, in a hierarchical way. When you click on a
configurable item, the right pane shows that item's configuration
options. You can change one or more configuration options and then
press "OK" to change the configuration of the virtual machine. Some
changes can be made without restarting the machine (like changing the
monitor from monochrome to color); other changes require a restart.
If you make a change that requires a restart, a warning is shown at
the bottom of the configuration sheet. Note that if you want to save
the modified configuration, you have to choose "Save Configuration"
from the File menu. Virtual&nbsp;&#93;&#91; will remind you if you
close the window without saving.</FONT></P>

<H4><FONT COLOR="#990000">Quick settings</FONT></H4>

<P><FONT COLOR="#000000">Some parts of the configuration can also be
changed with the "Quick settings" menu. It deals with properties of
the monitor and keyboard, and provides an quick way to change them.
The changes made with this menu don't mark the configuration as
"changed", so if you close the window you will not be reminded to
save the document. However, <I>if</I> you save the document, the
current quick configuration settings will be saved with the
configuration.</FONT></P>

<H4><FONT COLOR="#990000">Checking the performance of the virtual
machine</FONT></H4>

<P><FONT COLOR="#000000">To see if the virtual machine runs fast
enough on your Macintosh, choose "Show Performance" from the View
menu, or click the "Monitor" button in the toolbar. It reveals
performance statistics in the peripherals section.</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Controlling Virtual ][ with AppleScript" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Applescript></A>Controlling Virtual&nbsp;&#93;&#91; with AppleScript</FONT></H3>

<H4><FONT COLOR="#990000">Overview</FONT></H4>
<P>Virtual&nbsp;&#93;&#91; supports Apple's powerful AppleScript technology, which allows
you to control the virtual machine using a script. The script can do such things as create and configure
virtual machines, type commands on the virtual keyboard, wait until the screen indicates an operation
has finished, save printed output, and even insert
disk images directly from the Internet. It allows you to let Virtual&nbsp;&#93;&#91;
perform an automated task, such as starting up your favorite Apple&nbsp;II game.
You can also use it to create some nice Apple&nbsp;II demo's.<BR>
The application comes with a number of example scripts, which you can find in the AppleScript
menu.</P>
<P><IMG SRC="ApplescriptMenu.png" WIDTH=217 HEIGHT=105></P>
<P>When you select one of the example scripts from the menu, you will get the choice
to either run the script or open it in the Script Editor. The scripts are hidden inside
the Virtual&nbsp;&#93;&#91; application bundle, so if you want to make changes, it is 
recommended to save them in a different location.
</P>
<P>
When you make your own scripts, you can add them to the AppleScript menu by copying them
to the Virtual&nbsp;&#93;&#91; scripts folder. The easiest way to locate that folder is
to select "Open Scripts Folder" from the AppleScript menu.
</P>

<H4><FONT COLOR="#990000">A practical example</FONT></H4>
<P>This example shows some of Applescript's possibilities.</P>
<P>Suppose you often play the game "Little brick out", which was distributed on the original DOS 3.3
master diskette. You always play it on an Apple&nbsp;&#93;&#91;+ with a color screen. 
When you make a script that starts your favorite game in Virtual&nbsp;&#93;&#91;, you only have to double-click
that script to begin your game play.
<BR>
In its most elementary form this is what such a script looks like.
</P>
<P><IMG SRC="Applescript3.png" WIDTH=316 HEIGHT=171</P>
<P>
The script assumes that the disk is called "3.3 master.dsk", and is in the folder you configured
as your "favorite disk folder" in the Virtual&nbsp;&#93;&#91; preferences.
<BR>
The script first moves Virtual&nbsp;&#93;&#91; to the foreground (activate) and 
gets rid of any currently running virtual machines. It then
creates an Apple&nbsp;&#93;&#91;+ and makes sure it has a color screen. After that, it inserts the
disk image into slot 6, drive 1. While the machine boots, the script types the DOS command to run
the game: "RUN LITTLE BRICK OUT". Virtual&nbsp;&#93;&#91; sees to it that the typed characters are buffered
until the Apple&nbsp;&#93;&#91;+ is ready to process them (which is after booting is complete).
</P>
<P>
Although this script works OK, it can be improved by temporarily switching the
virtual machine to a higher speed during booting and loading the game. This dramatically reduces the
start-up time; from 25 seconds it takes on a real Apple&nbsp;&#93;&#91;, to just one or two seconds, depending
on the speed of your Mac.
</P>
<P><IMG SRC="Applescript4.png" WIDTH=654 HEIGHT=250</P>
<P>
The trick is that the script sets the speed of the virtual machine to "maximum", and resets it to
"regular" after the game finished loading. The latter is important: you don't want to play the game
at top speed! The script must know when to reset the speed; it does this by looking at the screen
with intervals of 0.5 seconds. When the last line on the screen displays "PRESS THE SPACE BAR TO BEGIN....",
we know the game has been loaded and the speed can be reset.
</P>
<P><IMG SRC="Applescript5.png"</P>

<H4><FONT COLOR="#990000">Writing your own scripts</FONT></H4>
<P>
When you want to write a script, a good start is to study the example scripts. 
Virtual&nbsp;&#93;&#91; does not support recording a script in the Script Editor, so you'll
have to use the editor to type the statements yourself. <BR>
However, if you are familiar with the AppleScript language you'll find it easy to write scripts
for Virtual&nbsp;&#93;&#91;. The script dictionary is based on a simple object model.
At the top of the object hierarchy is the <I>application</I> object, as in any AppleScript
dictionary. The application contains one or more <I>machines</I>. When you make a new machine
object, you'll get a machine that is configured like the default configuration, just as when you
select "New Default Machine" from the File menu. Another way to create a machine object is
by making an instance of one of the classes <I>AppleII</I>, <I>AppleIIPlus</I> or <I>AppleIIe</I>.
The third way to make a machine is by opening a saved configuration file. You'll find examples of
these techniques in the demo scripts.
</P>
<P>
Referring to a specific machine occurs just like referring to a document in other AppleScript-aware
applications: by number or by name. When you have just one virtual machine running, the easiest way is
to just say <I>front machine</I>.
</P>
<P>
A machine object contains a number of <I>devices</I>. You cannot create these device objects with
AppleScript; they are automatically created when you create a machine. You refer to the devices by
name. For slot devices, the name is derived from the slot it is connected to. For example, a device
connected to a card in slot #1 is called "S1". A disk drive, typically connected to a disk card in slot #6, is
called either "S6D1" or "S6D2", depending on whether it uses connection 1 or 2 of the disk card. If you are familiar with
Applesoft Basic, these device names should look familiar. Devices that are not connected to a slot
have fixed names. For example, the cassette recorder device is simply called "cassette recorder".
</P>
<P>
To find out the device names currently in a machine, execute a script as shown in the 
example below.
</P>
<P><IMG SRC="Applescript1.png" WIDTH=530 HEIGHT=503</P>

<P>Each device has a property, <I>devicetype</I>, which indicates what it is: an Epson printer, 
a hard disk, and so on. This example shows the device types of the same virtual machine as the
previous example.</P>
<P><IMG SRC="Applescript2.png" WIDTH=570 HEIGHT=503</P>

<P>You can find out what is on the machine's screen by using the property <I>screen text</I> or
<I>screen picture</I>. The screen text gives a collection of all the lines on the screen. You
can examine these text objects to see if the running process has produced screen output. Often it 
is more convenient to use the alternative <I>compact screen text</I>; this one omits empty lines and
strips trailing space characters from the remaining lines. Study the example scripts to see how this
can be used.
</P>
<P>
The screen picture property can be used in the <I>same picture</I> command. This powerful
command compares (part of) the screen picture with a previously saved file. This allows you
to wait until a running process has rendered a specific picture on the graphics screen. Virtual&nbsp;&#93;&#91;
offers a convenient way to save the pictures to compare to: use "Export Screen Picture" 
in the File menu.
</P>
<P>
Waiting for some screen output to appear is typically a combination of two things: testing the condition
and using the command <I>delay</I>. The latter is part of the standard AppleScript additions. It suspends script
execution for a specified time period, while the virtual machine keeps running. This allows 
you to test the screen at regular intervals (every second or so). The example scripts demonstrate this technique.
</P>
<P>
Finally, the dictionary supports a way to enter any key on the Apple keyboard with the <I>type</I>
command. It has a number of variants, so apart from typing plain characters, you can also enter
control-key combinations, open and solid Apple keys, and other special keys like up and down arrows. 
If the AppleScript type commands are executed faster than the Apple&nbsp;II can process them (which is very likely) 
the keystrokes are buffered until the Apple&nbsp;II processes them. So eventually all keystrokes will 
arrive in the virtual machine and none will get lost.
</P>
<P>
To find out the details of using AppleScript with Virtual&nbsp;&#93;&#91;, use the Script Editor
to open the application's dictionary and study the classes, commands and properties.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Getting support for Virtual ][" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=GettingSupport></A>Getting support</FONT></H3>

<P>Did you encounter technical problems in Virtual&nbsp;&#93;&#91;? Or perhaps you found an
Apple&nbsp;II program that doesn't run, or have suggestions for improvements? Tell me about it
by <A HREF="mailto:support@virtualii.com">e-mail</A>.
When reporting a problem, don't forget to mention what versions of macOS and Virtual&nbsp;&#93;&#91; you use.
</P>

<P>You might also want to check if a newer
version of Virtual&nbsp;&#93;&#91; is available on the
<A HREF="https://www.virtualii.com" target="_blank">web site</A>.
</P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Virtual ][ release notes" -->

<H3><FONT COLOR="#990000">
<HR>
<A NAME=ReleaseNotes></A>Release notes</FONT></H3>

<H4><FONT COLOR="#990000">Version 9.2</FONT></H4>
<UL>
    <LI>The application is now compatible with (the public beta of) macOS 10.15 Catalina.</LI>
    <LI>Fixed an issue in the Mockingboard card that could cause the sound quality to degrade after a few minutes of play.</LI>
    <LI>Corrected a memory-related issue in the SCSI card; this improves general compatibility.</LI>
    <LI>Note that when starting the app in Catalina, the main window appears with a default size and position.
        This is a side effect of a work-around necessary to avoid a crash.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.1.4</FONT></H4>
<UL>
    <LI>Fixed an issue that caused characters getting lost when pasting text from the Mac environment into AppleWorks.</LI>
    <LI>Fixed a bug (introduced in the 64-bit version of teh app) where reading a cassette tape failed if the AIFF file contains an unrecognized chunk.</LI>
    <LI>Fixed a potential crash when reading an invalid woz disk image.</LI>
    <LI>Creating a blank woz version 1 disk resulted in an invalid disk image. This now works as it should</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.1.3</FONT></H4>
<UL>
    <LI>Solved a crash in the print engine that occurred when saving a pdf file with printed graphics. This problem first appeared after upgrading macOS to version 10.14.4.</LI>
    <LI>Improved mapping for Swedish keyboards.</LI>
    <LI>Fixed an oversight in the 6502 emulation; the "B" flag is now handled correctly in a PHP instruction. This improves general compatibility.</LI>
    <LI>The RS-232 status lights in the serial port item work again.</LI>
    <LI>Configuring the serial port was not possible in macOS 10.11 (the application crashed). This has been fixed.</LI>
    <LI>Solved a number of smaller crashes.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.1.2</FONT></H4>
<UL>
    <LI>Fixed an issue, introduced in version 9.1, that could cause accessing a ProDOS diskette to fail; the diskette spun endlessly instead.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.1.1</FONT></H4>
<UL>
    <LI>In macOS&nbsp;10.13 (High Sierra) the Apple&nbsp;II screen was shown all black or sometimes semi-transparent. This has been fixed.</LI>
    <LI>Fixed a crash that occurred if the scan lines button was visible in the tool bar.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.1</FONT></H4>
<UL>
    <LI>Disk drives can be configured with a "read only" switch. While the virtual machine runs, just flip the switch to "on" to prevent the disk from being modified.</LI>
    <LI>The "Make All Drives Read-Only" entry in the Quick settings menu is a shortcut to protect all mounted disks in one go, essentially making the whole virtual machine read-only.</LI>
    <LI>Added support for quarter-tracks on woz disk images. A game like Frogger (protected with the SpiraDisc copy protection) now runs.</LI>
    <LI>Improved the woz2 implementation by taking the "optimal bit timing" into account. Disks protected with Infocom's 18-sector format (such as Border Zone) now run as they should.</LI>
    <LI>For woz diskette images added a new Spotlight key with the woz version number. The information is shown in the Finder's Get Info window, or can be used with the mdfind command-line tool (for example: mdfind&nbsp;virtualii_md_wozversion&nbsp;==&nbsp;woz2).</LI>
    <LI>Significantly improved the screen update performance, in particular on large high-resolution (retina) screens.</LI>
    <LI>The built-in QuickLook module now takes care of drawing diskette icons in the Finder. As with the diskette's QuickLook preview, the icons show labels listing the files on the disk image.</LI>
    <LI>Added DOS 4.x compatiblilty to the Spotlight and Diskette QuickLook modules.</LI>
    <LI>The application now rejects an attempt to insert a 3.5 inch diskette image (it crashed in the previous version).</LI>
    <LI>The application silently ignored the (very rare) case where a modified diskette cannot be saved. This oversight has been fixed; the application now shows an error message.</LI>
    <LI>Improved stability by solving a number of potential crashes.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 9.0</FONT></H4>
<UL>
    <LI>Introduction of the "peripherals" side bar, combining the contents of the device and performance drawers.
        Due to Apple deprecating the drawers feature in macOS 10.14, these drawers have been removed.</LI>
    <LI>Full support for the version 2 woz disk format.</LI>
    <LI>With the new peripherals side bar, devices and the performance monitor are now available in full-screen as well.</LI>
    <LI>Showing and hiding devices has been renamed to Show / Hide Peripherals, and can be found in the View menu.</LI>
    <LI>The device buttons now have retina resolution.</LI>
    <LI>The Inspector window, when opened from a full-screen main window, now shows up in the same screen space.</LI>
    <LI>In macOS 10.14, some of the demo Applescripts asked the user for permission to control the Finder, and sometimes
        refused to run outright, without even asking for this permission. This has been fixed – the Finder is no longer
        involved in these scripts.</LI>
    <LI>Repaired the "Customize Toolbar" function (it crashed in the previous version).</LI>
    <LI>Removed the feature to use the Mac mouse as a game controller. This was still based on the no longer supported
        "kiosk" full-screen mode.</LI>
    <LI>Removed the option of resizing the main window to match an exact multiple of Apple II pixels (2x, 3x or 4x). This was
        a left-over from the early days of the application, when free window resizing was not available for performance reasons.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.6</FONT></H4>
<UL>
    <LI>Added a keyboard shortcut to enter and exit full screen.</LI>
    <LI>The Inspector's instruction trail now also shows the processor cycle count at the start of each instruction.</LI>
    <LI>The instruction trail can now be saved as a tab-separated text file.</LI>
    <LI>Increased the maximum capacity of the instruction trail to 9999999 instructions (a tenfold increase). This is enough to capture roughly 35
        to 40 seconds of CPU activity at regular speed. Be aware that saving such a large trail takes some time and results in a big file!</LI>
    <LI>When ejecting a diskette, the disk image was always saved, even if the disk had not been modified. This bug was introduced
        recently, and has now been corrected; a disk image is only saved when the disk contents have acually been changed.</LI>
    <LI>ProDOS disk images with a ".po" filename extension and a size of 800 KB (or larger) can now be mounted as an OmniDisk,
        and are also processed by the Spotlight importer.</LI>
    <LI>Disk images with a .nib extension now show up in the disk search window as "custom file system".</LI>
    <LI>Fixed an issue in the SCSI card emulation that could corrupt the "screenhole" memory locations in auxiliary memory, whereas
        it should have used main memory. In the revised ROM code the screen hole memory isn't used anymore at all.</LI>
    <LI>If a USB or Bluetooth game controller is connected, the option to use the keyboard arrows as a joystick is now disabled. It appeared
        that the latter option could corrupt the values received from the game controller (even without touching the arrow keys).</LI>
    <LI>Powering up a virtual machine with an OmniDisk resulted in a boot failure if a higher numbered slot contained a card with
        expansion ROM. This now works as it should.</LI>
    <LI>Changed built-in web links from http to https (for servers that support https).</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.5</FONT></H4>
<UL>
    <LI>Added Dark Mode support for macOS 10.14 (Mojave).</LI>
    <LI>Woz disk image files are now shown correctly (enabled) in the disk open panel.</LI>
    <LI>Reading a an empty diskette drive did not trigger an I/O error - the drive just spun endlessly. This now works correctly.</LI>
    <LI>Writing to a diskette while more than one diskette is mounted could result in a corrupt disk image. This has been fixed.</LI>
    <LI>On the iMac Pro, game paddle emulation with a USB / Bluetooth game pad did not work correctly. To solve this, and
        to make the app future-proof again, this part of the app has been fully rewritten using modern API.</LI>
    <LI>Redesigned the game pad configuration window.</LI>
    <LI>Fixed an issue that could result in Virtual&nbsp;&#93;&#91; becoming unresponsive when performing diskette I/O at top speed.</LI>
    <LI>The app crashed in macOS 10.11 and 10.12 when selecting "Import Disk Images in Spotlight". This has been fixed.</LI>
    <LI>Changed the way the command key is handled, improving compatibility with some text editors (such as UCSD Pascal 1.2).</LI>
    <LI>Fixed an issue that caused the ImageWriter configuration window to remain visible after clicking OK or Cancel.</LI>
    <LI>Solved several crashes.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.4</FONT></H4>
<UL>
    <LI>Improved "woz" disk image compatibility; the application now deals better with several copy-protection schemes.</LI>
    <LI>If a woz disk's internal write protect property is set, QuickLook now shows the disk without a write-protect notch, to
        indicate that it cannot be made write-enabled (or at least not without special tools).</LI>
    <LI>Improved rendering of monochrome high resolution screens; it now shows a "half-pixel" shift where appropriate.</LI>
    <LI>The game controller configuration now only contains the type of controls that can actually be mapped to the Apple II game I/O:
        push buttons as well as axis controls such as joysticks and sliders.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.3</FONT></H4>
<UL>
    <LI>Support for the "woz" disk image format. The woz format and implementation guide was created by John Morris
        in conjunction with his Applesauce project. It allows for disk images that are like a carbon copy of the original
        disk &ndash; even their copy protection checks can't tell the difference.</LI>
    <LI>The disk search window now allows selecting a "custom" fle system (i.e. none of the well-known file systems). This
        makes it easy to find copy-protected woz disks, either by disk name or by included meta data.</LI>
    <LI>Added a pull-down menu, along with keyboard shortcuts, to eject disks from their drives.</LI>
    <LI>Fixed an issue that could cause the disk recalibration sound to continue playing for too long.</LI>
    <LI>Cassette tape files (.cass) now show the correct icon / preview in the Finder.</LI>
    <LI>Updated diskette and cassette tape icons to high resolution (retina) quality.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.2</FONT></H4>
This version fixes a number of issues reported by users, and simplifies ROM file installation.
<UL>
   <LI>Added a menu to open the folder where the ROM files must be installed.</LI>
   <LI>In the game controller configuration, selecting the action "None" crashed the application. This has been fixed.</LI>
   <LI>Fixed an issue that caused a disk image file with the "v2d" format to be corrupted when ejecting the disk.</LI>
   <LI>Enhanced Mockingboard compatibility by increasing its interrupt frequency.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.1</FONT></H4>
This version adds two preference settings, but mainly fixes issues reported for version 8.0.1.
Thanks everyone for your feedback!
<UL>
    <LI>Added a preference to use the H.264 codec for making a screen movie, even if the HEVC codec is available.</LI>
    <LI>Added a preference to suppress the large "Paused" indicator.</LI>
    <LI>Making a screen movie in macOS 10.11 and 10.12 now works as it should; the application no longer crashes.</LI>
    <LI>Fixed an issue that crashed the app when unplugging the game controller.</LI>
    <LI>Double-clicking a disk in the Finder worked only once per run; this has been fixed.</LI>
    <LI>When saving a configuration, the save dialog incorrectly gave the option to select a file type (such
        as disk image). This has been fixed.</LI>
    <LI>The "Current PC" button in the Inspector could result in blank lines in the disassembly. This has been fixed.</LI>
    <LI>When rebooting a virtual machine, the main window now stays the active window if the Inspector is open.</LI>
    <LI>If a configured ROM image file cannot be read, the application now presents an error message
        identifying the path of the missing file. In the previous version the application crashed.</LI>
    <LI>Fixed numerous (albeit minor) memory leaks.</LI>
    <LI>Updated the documentation of the A2V2 disk transfer utility.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 8.0.1</FONT></H4>
    This version contains extensive behind-the-scenes updates and rewrites to remain compatible with new versions of macOS, forming
    a basis for further future development. <BR>For example, the application was still 32-bit; as of this release it is a 64-bit
    app, making it compatible with modern Mac APIs, improved memory management, etc.
    <P>Furthermore:</P>
    <UL>
        <LI>A disk image file can now be double-clicked in the Finder to start a virtual machine with that disk inserted.</LI>
        <LI>Added the feature to speak the text on the Apple II screen, using the Mac voice synthesizer.</LI>
        <LI>Fixed an issue that could cause a new virtual machine window to appear with a very small size.</LI>
        <LI>Clarified the section in the Help file on game controller setup.</LI>
        <LI>Fixed an issue that caused the Inspector's disassembly to show empty lines when scrolled.</LI>
        <LI>Rewrote the "movie making" feature to use the AVFoundation framework. When running macOS 10.13 (High Sierra) or later, the movie is written using the HEVC codec. Older system use the H264 codec.</LI>
        <LI>Removed the option to select a folder where the ROM files are located. This feature often caused confusion, and led to some tricky problems. You can however still select a specific ROM <I>file</I> for a virtual machine. If you don't specify such a file, the app will search for a matching ROM file in one of the standard locations.</LI>
        <LI>The app now submits crashes or similar app issues to the developer. These reports are fully anonymous, and help improving the app. If you wish you can disable it in the application preferences.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.6.1</FONT></H4>
    <UL>
        <LI>Checkboxes did not show up correctly in the Search Disk window; this has been fixed.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.6</FONT></H4>
    <UL>
        <LI>This upgrade requires OS X 10.11 (El Capitan) or better.</LI>
        <LI>Rewrote the full-screen feature; it now works for individual windows, using the familiar green button in the window title.</LI>
        <LI>The main window can now be resized freely, and is not limited anymore to the small / medium / large sizes.</LI>
        <LI>Fixed an issue that caused the application to incidentally ignore ROM files in the application folder.</LI>
        <LI>Closing a virtual machine while the Inspector window is open no longer results in a crash.</LI>
        <LI>Improved the screen refresh performance; this fixes an issue where the Apple II screen sometimes briefly showed gray areas.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5.5</FONT></H4>
    <UL>
        <LI>Double-clicking a disk image in the Finder didn't result anymore in inserting the disk in a drive. This has been fixed.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5.4</FONT></H4>
    <UL>
        <LI>A new option allows forwarding all Command-key combinations to the virtual machine as &quot;Open Apple&quot;
            key combinations, instead of being handled by the emulator.</LI>
        <LI>Fixed an issue that could cause the application to not recognize the appropriate ROM file.</LI>
        <LI>Removed the &quot;full screen mode&quot; feature.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5.3</FONT></H4>
    <UL>
        <LI>Licenses can be purchased at the FastSpring store.</LI>
        <LI>The minimum required system version is Mac OS X 10.7 ("Lion").</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5.2</FONT></H4>
    <UL>
        <LI>Fixed an issue that could cause the virtual procesor to get stuck in an endless loop.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5.1</FONT></H4>
    <UL>
        <LI>The right arrow key did not work correctly when used for game control. This has been fixed.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.5</FONT></H4>
    <UL>
        <LI>Support for two Mockingboard cards in one machine, in order to listen to max. 12 channels.</LI>
        <LI>Corrected an issue with double low resolution colors.</LI>
        <LI>Added an experimental feature: the super serial card emulation can now work with Unix named pipes (full license only).</LI>
        <LI>Improved timing of video rendering; the Apple //e cursor now blinks with constant time intervals.</LI>
        <LI>The RAMWorks card now has a maximum capacity of 16 MB (was 8 MB) (full license only).</LI>
        <LI>Relaxed the requirements for a custom character set definition: the file can now be either tiff or png, 1-bit or 8-bit.</LI>
        <LI>The Preferences window now shows the correct tab when opened.</LI>
        <LI>Simultaneous disk drive and printer sound effects could cause a crash - this has been fixed.</LI>
        <LI>The print preview now takes the scrollbar preferences into acount.</LI>
        <LI>Saving the machine state could potentially cause a crash - this has been solved.</LI>
        <LI>Fixed an issue where &quot;high speed mode&quot; sometimes incorrectly dropped back to regular speed.</LI>
        <LI>The Quicklook preview for saved state documents works again.</LI>
        <LI>The preview of saved state documents can now show horizontal scanlines.</LI>
        <LI>Fixed a Yosemite compatibility issue in the disk transfer application (A2V2).</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.4.1</FONT></H4>
    <UL>
        <LI>Fixed some issues with the new SCSI card emulation introduced in version 7.4.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.4</FONT></H4>
    <UL>
        <LI>The emulated SCSI card previously supported only the ProDOS block interface; it now supports the
            &quot;SmartPort&quot; interface as well, thereby improving Apple&nbsp;II compatibility.</LI>
        <LI>When a Mac folder, extracted from a Shrinkit archive with
            <A HREF="https://itunes.apple.com/app/shrink-fit-x/id498905285" target="_blank">Shrink-Fit X</A>,
            is mounted as a ProDOS disk, Virtual&nbsp;&#93;&#91; automatically uses the file types and
            other metadata provided by Shrink-Fit X.</LI>
        <LI>When a Mac folder, mounted as a Prodos disk, is ejected from Virtual ][, the Finder now shows the
            updated file structure correctly.</LI>
        <LI>Some of the demo Applescripts didn't work correctly because of Mavericks' app nap; this has been fixed.</LI>
        <LI>Added an Applescript command that makes it easy to have a script pause until the virtual machine
            displays a specific screen. The script &quot;Mockingboard demo&quot; demonstrates this technique.</LI>
        <LI>Fixed an issue that could cause the memory of an Apple&nbsp;//e to be incorrectly initialized.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.3</FONT></H4>
    <UL>
        <LI>The &quot;No Slot Clock&quot; now reports Monday as weekday no. 1. Previously it reported
            Sunday as day no. 1, which was incorrect.</LI>
        <LI>Added Applescript properties for better control of the connected devices.</LI>
        <LI>The application preferences now offer two color schemes for high resolution rendering.</LI>
        <LI>The Inspector now retains its window positions when the virtual machine is restarted.</LI>
        <LI>Fixed several layout and font issues in the Inspector.</LI>
        <LI>&quot;Set Disk Properties&quot; in the Media menu no longer refuses volume numbers 0 and 255.</LI>
    </UL>

    <H4><FONT COLOR="#990000">Version 7.2.1</FONT></H4>
    <UL>
        <LI>Fixed an incompatibility of the sound effects with Mac OS X 10.7</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 7.2</FONT></H4>
    <UL>
        <LI>Rewrote the Apple II sound emulation. As a result, the application no longer crashes
            when a headphone is inserted or removed</LI>
        <LI>Fixed an issue that crashed the application when waking the Mac from sleep</LI>
        <LI>Fixed a layout issue in the RAMWorks configuration panel</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 7.1</FONT></H4>
    <UL>
        <LI>Fixed an issue that could cause Apple II screen pixels to be randomly shown or hidden.</LI>
        <LI>Improved implementation of the "mounted OS X folder" feature to fix an incompatibility with EDASM.</LI>
        <LI>Some of the Applescript demos didn't work in version 7.0; this has been fixed.</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 7.0</FONT></H4>
    <UL>
        <LI>Updated the program to be fully compatible with Mac&nbsp;OS&nbsp;X 10.8 (Mountain Lion).</LI>
        <LI>Improved accuracy of high resolution colors by adding emulation of NTSC TV color logic.</LI>
        <LI>Modernized the appearance of the main window.</LI>
        <LI>The Inspector can now save a memory dump of the virtual machine to a file.</LI>
        <LI>Added the Bulgarian character set.</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 6.5</FONT></H4>
    <UL>
        <LI>Fixed an issue where the Mockingboard card could halt the virtual machine (this happened, for example, in Ultima IV).</LI>
        <LI>Corrected an issue in the "floating bus" screen rendering, thereby improving compatibility.</LI>
        <LI>Fixed an issue that could cause stray pixels on the emulated screen when switching from 80-column text to low-resolution graphics.</LI>
        <LI>Improved screen rendering perfomance by using Apple's Grand Central Dispatch technology.</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 6.4.1</FONT></H4>
    Corrected some minor issues that were introduced in version 6.4:
    <UL>
        <LI>Double-clicking a disk in the Finder didn't work anymore when Virtual&nbsp;&#93;&#91; did not run - this has been fixed.</LI>
        <LI>All pictures in the Inspector Help were missing - this has been corrected.</LI>
    </UL>
    
    <H4><FONT COLOR="#990000">Version 6.4</FONT></H4>
    <UL>
        <LI>Dropped support for Mac&nbsp;OS&nbsp;X 10.5 and the PowerPC processor. The program now requires
            an Intel Mac running Mac&nbsp;OS&nbsp;X 10.6 (Leopard) or better.</LI>
        <LI>Added a feature to change the write protection and volume number of disk images.</LI>
        <LI>It is now possible to configure a 65C02 processor in an Apple&nbsp;&#93;&#91; or &#93;&#91;+ virtual machine.</LI>
        <LI>When choosing "Copy as Text" from the Edit menu, international characters on the screen are
            now correctly copied to the Mac clipboard.</LI>
        <LI>Improved the quality of the QuickLook preview and thumbnail of a saved state file.</LI>
        <LI>Some custom character sets were not accepted by the virtual machine - this has been fixed.</LI>
        <LI>Fixed a number of minor issues, thereby improving the overall stability of the program.</LI>
    </UL>
    
<H4><FONT COLOR="#990000">Version 6.3.7</FONT></H4>
<UL>
	<LI>Fixed an issue that could cause the arrow keys to generate incorrect game paddle values if used in combination with the command key.</LI>
	<LI>Added a convenience menu in "Quick Settings" to easily invert the direction of the up and down arrows when used as a joystick.</LI>
	<LI>The Mac OS X Finder now correctly recognizes disk images as Virtual ][ files.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.3.6</FONT></H4>
<UL>
	<LI>The program now accepts "dsk" image files with 41 tracks (the maximum so far was 40).</LI>
	<LI>A recent Snow Leopard upgrade broke the "Make Movie from Apple II Screen" feature. This has been fixed.</LI>
	<LI>Cassette tape files now get file name extension "cass" instead of "aif". As a result, the cassette tape
	    icon appears correctly again in Snow Leopard. Old "aif" files can still be read.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.3.5</FONT></H4>
<UL>
	<LI>Improved emulation of Apple II interrupts; as a result, the program "Publish It" version 4 can now be used with the mouse.</LI>
	<LI>Corrected an error in the emulation of several 65C02 instructions (particularly TSB and TRB). This enhances compatibility with Apple&nbsp;//e applications.</LI>
	<LI>Relative mouse mode is now correctly restored from a saved state file. This was an omission in previous versions.</LI>
	<LI>Fixed a few spelling errors in the Inspector and tool tips.</LI>
	<LI>Fixed an issue that could cause the text color on the Apple II screen to become white after clicking "Cancel" in the the configuration panel.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.3.1</FONT></H4>
<UL>
	<LI>If the preferences were set to skip the "save" question, the application crashed when quitting. This has been fixed.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.3</FONT></H4>
<UL>
	<LI>The program is now fully Mac&nbsp;OS&nbsp;X 10.6 "Snow Leopard" compatible.</LI>
	<LI>Fixed an issue, introduced in version 6.2, where the video inspector didn't render the text screen correctly.</LI>
	<LI>Fixed an issue that caused the "open Apple" key emulation to work poorly in full screen mode (in Mac&nbsp;OS&nbsp;X 10.5 "Leopard" only).</LI>
	<LI>In full-screen mode, the I/O activity indicator sometimes remained visible after I/O activity had ended; this has been solved.</LI>
	<LI>Fixed an issue, introduced in version 6.2, that could cause Applescript execution to crash the program (in Mac&nbsp;OS&nbsp;X 10.4 "Tiger" only).</LI>
	<LI>Fixed an issue (in Mac&nbsp;OS&nbsp;X 10.4 "Tiger" only) that prevented the use of the built-in French character set.</LI>
	<LI>In the configuration window, the character set preview showed a few stray pixels. This has been solved.</LI>
	<LI>Fixed an issue that could cause a gzipped disk image to be incorrectly renamed when ejected.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.2</FONT></H4>
<UL>
	<LI>Added power management options to save energy and enhance battery life on a notebook Mac.</LI>
	<LI>Fixed an issue that caused the game disk "World Karate Championship" to fail while booting.</LI>
	<LI>The Help menu now contains an item to open an online version of the Help section in a web browser.</LI>
	<LI>In the Inspector, fixed an issue where two lines in the disassembly could be highlighted at the same time.</LI>
	<LI>Resuming an original Apple ][ from a saved state file could result in incorrect video settings. This has been solved.</LI>
	<LI>Clarified some topics in the Help section: printing with a limited license, and joystick emulation with the keyboard.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.1</FONT></H4>
<UL>
	<LI>The Inspector now lets you modify Apple&nbsp;II memory and CPU registers.</LI>
	<LI>Corrected several issues in the game paddle emulation, thereby improving stability and general compatibility.</LI>
	<LI>Fixed an issue with the 6502 decimal mode emulation, which caused some UCSD Pascal programs to crash.</LI>
	<LI>Fixed an issue with the Epson FX80 emulation; in some cases double-width characters were not rendered correctly.</LI>
	<LI>Clicking an I/O address breakpoint in the Inspector made it invisible; this has been solved.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 6.0</FONT></H4>
<UL>
	<LI>Added a feature that lets you record the action on the Apple II screen as a QuickTime movie.</LI>
	<LI>Added a new module: DiskIIViewer. It allows the Mac OS&nbsp;X "Leopard" Finder to present
	Apple&nbsp;II disk images in QuickLook and Cover Flow.</LI>
	<LI>Improved the quality of high resolution rendering.</LI>
    <LI>The "Search Disk Images" window now shows the results while typing, just like Spotlight.</LI>
	<LI>The "Search Disk Images" window now shows <I>all</I> diskette names with the selected file system (it used to omit empty disks).</LI>
	<LI>Added an Applescript command to make a snapshot of the Apple&nbsp;II screen and save it as a file.</LI>
	<LI>Added an Applescript command to dump (part of) the Apple&nbsp;II memory into a file.</LI>
	<LI>A mounted Mac folder (DOS) can now hold up to 200 KB (was 140 KB).</LI>
	<LI>The numeric keypad "enter" key of the mid-2007 iMac keyboard is now correctly recognized.</LI>
	<LI>Fixed an issue in the Spotlight module that could cause hdv disk images to be ignored.</LI>
	<LI>Fixed an issue that caused the program to crash if multiple virtual machines used the same serial port.</LI>
	<LI>This version requires OS&nbsp;X&nbsp;10.4 "Tiger" or OS&nbsp;X&nbsp;10.5 "Leopard". It 
	    does <I>not</I> run on OS&nbsp;X&nbsp;10.3 "Panther" anymore.</LI>
</UL>


<H4><FONT COLOR="#990000">Version 5.8.5</FONT></H4>
<UL>
	<LI>Solved an issue (introduced in version 5.8) that caused flickering screen objects in some games (such
		as Swashbuckler, Bolo and Choplifter).</LI>
	<LI>Improved the floating bus feature; the intro of the game "Money Munchers" now works as it should.</LI>
	<LI>The "Search Apple II Disk Images" feature now not only searches for matching Apple II file names, but
	    also for matching disk image file names.</LI>
	<LI>The Inspector can now show the Apple&nbsp;II screen as it would appear in any graphics mode.</LI>
	<LI>Substantially improved nibble copy and half-track copy in A2V2, resulting in much more reliable disk images.</LI>
	<LI>Added a menu to check for newer versions.</LI>
	<LI>Refined the keyboard mappings to more resemble the Apple&nbsp;II: shift-tab now acts as tab; numeric pad
		"clear" acts as escape.</LI>
	<LI>Increased default screen refresh rate from 20 Hz to 30 Hz.</LI>
	<LI>Fixed an issue that could result in stray pixels all over the screen when switching 
		from text mode to graphics mode.</LI>
	<LI>Fixed an issue that caused the Saturn memory card to behave like a 16K instead of a 128K memory card.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.8</FONT></H4>
<UL>
	<LI>The A2V2 utility now supports transfer of Apple&nbsp;II disks containing half-tracks.</LI>
	<LI>Finished the implementation of the "floating bus", and added an example Applescript to
	demonstrate this feature.</LI>
	<LI>Optimized graphic rendering, resulting in lower overall CPU load.</LI>
	<LI>Improved the compatibility of the Epson FX-80 emulation; it now works with the Fontrix application.</LI>
	<LI>The Inspector now shows the total CPU cycle count of the emulated 6502.</LI>
	<LI>Added an Applescript command to slow down text input from a script, and used it to make
	the included demo scripts easier to follow.</LI>
	<LI>Solved an issue where the text "Paused" could remain on the screen after a restart of the machine.</LI>
	<LI>Solved an issue that could cause one disk image to be mounted in multiple drives at the same time.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.7.1</FONT></H4>
<UL>
	<LI>Added an feature to convert legacy DiskCopy disk images to a format supported by Virtual&nbsp;&#93;&#91;.</LI>
	<LI>When a newly created diskette image was ejected, the program crashed. This has been fixed.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.7</FONT></H4>
<UL>
	<LI>Added a "search all disk images" feature to the program that presents all disk
	images found on the system, and allows fast searching for an Apple&nbsp;II file.</LI>
	<LI>The emulated diskette drives now allow inserting a diskette image in gzipped form.</LI>
	<LI>The Spotlight search module now also scans gzipped diskettes.</LI>
	<LI>Solved an issue that caused the emulated game paddle button #1 to "stick" when controlled 
	with the right mouse button or the alt key.</LI>
	<LI>The previous version (5.6) had introduced a problem with USB game pads on Intel Macs. This
	issue has been solved.</LI>
	<LI>Solved an issue that prevented the use of reset (ctrl-F12) in full-screen mode.</LI>
	<LI>Solved a ProDOS compatibility issue concerning the Thunderclock card.</LI>
	<LI>Solved an issue that could cause the Inspector to show a wrong memory bank in the slot 3
	memory space on an Apple //e.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.6</FONT></H4>
<UL>
	<LI>Added full implementation of the Super Serial card, allowing an Apple&nbsp;II program to connect to
	an actual serial device, such as a dial-up modem.</LI>
	<LI>When the application is started for the first time, it now adapts the window size to best match
	the computer's main screen.</LI>
	<LI>Solved an issue that caused ProDOS to fail when formatting a diskette.</LI>
	<LI>Solved an issue that could cause the program to crash when restarting a virtual machine.</LI>
	<LI>In very rare circumstances a modified diskette image was not saved when it was ejected. This has been fixed.</LI>
	<LI>Solved a minor issue with the print preview button; double-clicking while the print preview was open
	made the presented output invisible.</LI>
	<LI>In the previous release, one of the ImageWriter pictures was missing, resulting in a blinking icon
	in the devices bar while printing. This has been corrected.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.5</FONT></H4>
<UL>
	<LI>The arrow keys on the keyboard can now be used as a joystick.</LI>
	<LI>The "enter" key on the numeric pad can now be used as an alternative "return" key. 
	This is consistent with the numeric key pad of the Apple&nbsp;//e.</LI>
	<LI>Improved ProDOS compatibility of the Thunderclock emulation.</LI>
	<LI>Fixed a potential crash when the virtual machine is restarted.</LI>
	<LI>Fixed yet another issue with license key validation when Japanese is the system default language.</LI>
	<LI>Reorganized the long list of subjects in the documentation, in order to make it more accessible.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.4</FONT></H4>
<UL>
	<LI>Added emulation of the Thunderclock card, and made it the default clock card for all virtual machine types.</LI>
	<LI>The old "ProDOS clock card" is now obsolete. It is still supported, but can no longer be selected in a new configuration.</LI>
	<LI>Added emulation of the the Saturn 128K memory card.</LI>
	<LI>Improved the support for international keyboards.</LI>
	<LI>Added additional Apple&nbsp;II character sets: British, French, German, Itialian and Swedish.</LI>
	<LI>Adjusted the Apple //e character set, to eliminate some minor differences with the characters in the original machine.</LI>
	<LI>Added an AppleScript property to get the path of the configured favorite disk folder.</LI>
	<LI>The RAMWorks card can now be configured in increments of 64KB (was 128KB).</LI>
	<LI>The 16K RAM card can now be inserted in all slots, not only slot 0.</LI>
	<LI>Fixed an issue that prevented 2img disk images from being recognized on an Intel Mac.</LI>
	<LI>The "generic printer card", which has been obsolete since version 3.4, is no longer supported. It has been replaced
	by the Grappler+ card and the serial printer card.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.3</FONT></H4>
<UL>
	<LI>The program can now be controlled with AppleScript.</LI>
	<LI>Added an AppleScript menu with a number of example scripts; they demonstrate many of Virtual&nbsp;&#93;&#91;'s features.</LI>
	<LI>Added a menu function to save a snapshot of the emulated screen as a tiff file.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.2</FONT></H4>
<UL>
	<LI>Improved the bundled A2V2 disk-exchange program: it is now also able to transfer
	"copy-protected" disk images from an Apple&nbsp;II to the Macintosh.</LI>
	<LI>The Z80 card was not detected on an Intel Mac, and hence didn't work. This
	has been fixed.</LI>
	<LI>Fixed an issue with license key validation when Japanese is the system
	default language.</LI>
	<LI>Fixed an issue with keyboard emulation: open apple + esc is now correctly
	forwarded to the Apple&nbsp;//e.</LI>
	<LI>Fixed an issue that could cause a ProDOS shared folder to report an I/O error
	when updating file metadata (like the binary load address).</LI>
	<LI>On the Apple&nbsp;&#93;&#91; and &#93;&#91;+, the "Show 80 Column Video" menu sometimes failed 
	to update the screen. This has been fixed.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.1</FONT></H4>
<UL>
	<LI>The program now comes as a universal binary, fully compatible with both the Intel and the Power PC Macintoshes.</LI>
	<LI>Added emulation of the ImageWriter II printer.</LI>
	<LI>Fixed an issue in the mouse card; as a result the emulation now supports the Apple II program "Blazing Paddles".</LI>
	<LI>Improved disk drive timing: as a result the Apple II program "Wasteland" now runs from copy-protected (.nib) disk images.</LI>
	<LI>Changed the Mockingboard card in such a way that the Apple II program "SkyFox" now detects and uses the card.</LI>
	<LI>Added a configurable option to skip the "save state" dialog when closing a virtual machine.</LI>
	<LI>Fixed an issue that resulted in wrong game paddle values when the machine ran at high speed.</LI>
	<LI>Fixed a potential crash in the Inspector when analyzing some types of copy protected disks.</LI>
	<LI>The "soft caps lock" feature doesn't affect pasted text anymore; it only affects typed characters, as it should.</LI>
	<LI>Solved an issue in sound handling that could lead to a deadlock when resetting the virtual machine.</LI>
	<LI>The "relative mouse mode" setting is now stored when saving a configuration file.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 5.0</FONT></H4>
<UL>
	<LI>Added a major new feature: the "Inspector". It allows to closely watch the behavior of the virtual machine and debug
	    Apple II programs.</LI>
	<LI>Made the "speed dial" options more accessible by assigning keyboard shortcuts to them.</LI> 
	<LI>Improved compatibility of the simple text printer.</LI> 
	<LI>Solved a bug that caused wrong license key evaluation when Japanese was the system default language.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 4.3</FONT></H4>
<P>This is a bug-fix release.</P>
<UL>
	<LI>Solved an issue in the built-in Spotlight module, which could cause endless rescanning of hard disk image files.</LI>
	<LI>The Spotlight module now does a better job in recognizing the file system on diskette image files. It sometimes
	skipped valid DOS images.</LI>
	<LI>Improved the compatibility of the A2V2 program, to support more types of USB-to-serial adapters.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 4.2</FONT></H4>
<UL>
	<LI>Added the option to convert diskettes from and to a real Apple&nbsp;II via a serial cable.</LI>
	<LI>Added emulation of the "no-slot clock".</LI>
	<LI>It is now possible to print text to the Macintosh clipboard.</LI>
	<LI>A configured machine can now be made the default machine in one simple step.</LI>
	<LI>The Preferences window has an option to open the devices drawer to either the bottom 
	or the right side of the window. Opening it on the right side is particularly useful on 
	small screens.</LI>
	<LI>When an USB game pad is connected, it is now automatically the preferred choice for game control. 
	It used	to be a configurable option, but this could easily lead to a seemingly not-working game pad.</LI>
	<LI>Improved artwork of the Printer button: it finally looks like a printer.</LI>
	<LI>Solved problems with the game "Alternate Reality The Dungeon" by improving
	the emulation of the stepper motor in the diskette drive.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 4.1</FONT></H4>
<UL>
	<LI>A Mac OS&nbsp;X folder can now be mounted as a ProDOS disk image, making it easy to share files and folders between
	the Apple&nbsp;II and Mac environments.</LI>
	<LI>The included Spotlight module now also scans ProDOS disks (OS&nbsp;X 10.4 "Tiger" only).</LI>
	<LI>The program now suports double low resolution graphics on the Apple&nbsp;//e.</LI>
	<LI>Solved a diskette compatibiliy problem; as a result the game "Alternate Reality The Dungeon" now runs.</LI>
	<LI>Solved a cassette port compatibility problem; as a result "Beyond Castle Wolfenstein" now runs.</LI>
	<LI>Solved a issue that could cause the machine to run too fast in "high speed" mode (it would behave like "maximum speed" instead).</LI>
</UL>

<H4><FONT COLOR="#990000">Version 4.0</FONT></H4>
<UL>
	<LI>Added a much requested feature: the Mockingboard emulation. This is a free upgrade for all licensed users.</LI>
	<LI>Changed the configuration of the default machine to include the Mockingboard in slot 4.</LI>
	<LI>Solved a bug that could cause failure to read a saved state file.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.5.1</FONT></H4>
<UL>
	<LI>Fixed a bug that caused the Epson emulation to render text in a much too small font. This occurred in OS&nbsp;X 10.4 only.</LI>
	<LI>Made some subtle timing adjustments in disk I/O; as a result the "Apple Cider Spider" game now runs.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.5</FONT></H4>
<UL>
	<LI>The program is now fully OS&nbsp;X&nbsp;10.4 "Tiger" compatible. The program still runs on Panther,
	    provided the version is 10.3.9. The program does <I>not</I> run on OS&nbsp;X&nbsp;10.2 "Jaguar" anymore.</LI>
	<LI>Included a Tiger Spotlight module that allows fast searching for Apple&nbsp;&#93;&#91; files.</LI>
	<LI>A diskette image can now be inserted in the virtual machine by double-clicking it in the Finder, or selecting it in Spotlight.</LI>
	<LI>Improved compatibility of the emulated mouse. As a result, it is now possible to run the "GEOS" program.</LI>
	<LI>Included a link to the new Virtual&nbsp;&#93;&#91; Forum in the Help menu.</LI>
	<LI>The 6502 an Z80 engines now benefit from the additional speed of the G5 processor, if available. The program is still fully compatible with the G3 and G4 processors.</LI>
	<LI>Fixed a bug that caused some solid apple key combinations (like solid apple-N) to be ignored.</LI>
	<LI>Fixed some bugs with Macintosh folders mounted as DOS diskettes.</LI>
	<LI>Fixed some minor problems in the 65C02 implementation, increasing general compatibility.</LI>
	<LI>Solved a bug in the mouse card firmware; it can now handle interrupt mode and should therefore now work in any Apple&nbsp;&#93;&#91; program.</LI>
	<LI>Fixed a bug in Apple IIe memory-bank switching, improving general compatibility</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.4.1</FONT></H4>
<UL>
	<LI>Corrected an issue introduced in the 3.4 version, that could cause CP/M to fail
		during boot.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.4</FONT></H4>
<UL>
	<LI>Added emulation of the Grappler+ printer interface card. The previously used
	"generic" printer card is now obsolete and can no longer be selected.</LI>
	<LI>The emulated Epson FX-80 now supports user-defined characters.</LI>
	<LI>Improved quality of high resolution graphics rendering. In particular text rendered
	as graphics is now more readable.</LI>
	<LI>Reviewed and improved handling of the internal ROM on the Apple&nbsp;//e; as a 
	result the overall compatibility has been improved.</LI>
	<LI>Improved the maximum speed of the emulated processors (both 6502 and Z80A) by about 10%.</LI>
	<LI>Improved behavior of the analog game inputs when resuming a virtual machine. Effectively, this means
	a game can be resumed in a more controlled way.</LI>
	<LI>Changed the "underscore" character on the Apple&nbsp;//e to more closely match the original.</LI>
	<LI>Solved a bug that could cause a clobbered display when scrolling the print preview.</LI>
	<LI>Solved a bug in handling graphics printing in the Epson FX-80 emulation.</LI>
	<LI>Solved a bug in the disk drive that could cause ProDOS to get stuck in an endless loop.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.3</FONT></H4>
<UL>
	<LI>The program now produces the sounds of the disk drives and the matrix printer.</LI>
	<LI>Solved a bug that could assign the wrong file type to a new diskette image file.</LI>
	<LI>Solved a bug in the Epson FX-80 configuration window that was likely to crash the program.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.2</FONT></H4>
<UL>
	<LI>Further improved the sound quality of the emulated internal speaker.</LI>

	<LI>Added the "variable speed" option, to speed up lengthy operations.</LI>

	<LI>Solved a bug that could cause a valid license code to be rejected.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.1</FONT></H4>
<UL>
   <LI>Improved the rendering of double high resolution graphics;
   the emulation now accurately emulates an NTSC monitor. Effectively this
   improves the graphics quality and the readability of text in
   programs like Dazzle Draw or Apple Desktop.</LI>
   
   <LI>Improved accuracy of low-resoution colors and double high
   resolution colors.</LI>
   
   <LI>Improved the efficiency of high resolution rendering by about
   25%. As a result, the "Solid Hi-Res" option is now obsolete and
   has been removed from the program (this was an option to gain
   efficiency at the expense of accuracy).</LI>
   
   <LI>Significantly improved sound quality of the emulated internal speaker.</LI>

   <LI>Added a toolbar for easier access of common functions.</LI>
   
   <LI>The "Screen" menu is now named "View" and has been extended
   with toolbar-related commands.</LI>
   
   <LI>The sound volume can now be changed.</LI>
   
   <LI>Added a menu command / toolbar button to open a Finder window
   with the folder where your disk images are; in combination with
   Mac OS&nbsp;X "Expos&eacute;" this is a comfortable way to quickly
   select a disk image and drag it to a drive.</LI>
   
   <LI>An alias file of a disk image is now accepted when dropped on
   a drive (the alias file must have the proper extension
   though).</LI>
   
   <LI>The program can now automatically adjust the Mac monitor
   resolution when going to full-screen mode. This solves perfomance
   issues on big screens.</LI>
   
   <LI>The Apple&nbsp;//e, not the &#93;&#91;+, is now the default machine
   when the program is first started.</LI>
   
   <LI>A "saved state" file gets a custom icon that is a miniature representation
    of the emulated screen.</LI>
   
   <LI>Solved a bug: when the mouse was switched on and off (by the
   Apple II software) in rapid succession, this could block the
   Virtual&nbsp;&#93;&#91; user interface. This occurred in Dazzle Draw
   for example.</LI>
   
   <LI>Solved a bug that prevented full-screen mode to work correctly
   in a multi-monitor setup.</LI>
   
   <LI>Solved a bug that was likely to crash the program when
   starting with a "default.vii" configuration file.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 3.0</FONT></H4>

<UL>
   <LI>Added emulation of the Epson FX-80 printer (available in OS&nbsp;X
   10.3 "Panther" or better).</LI>
   
   <LI>The state of a virtual machine can be saved so it can continue
   to run later on.</LI>
   
   <LI>Included support for the RamWorks card on the Apple&nbsp;//e.
   This card gives you up to 8 MB of memory, and replaces the "64K /
   80 column card", which is now obsolete and no longer
   supported.</LI>
   
   <LI>The program now includes a number of different character sets
   ROM's and you can add your own character sets as well.</LI>
   
   <LI>Simplified the installation procedure for ROM image files.
   Previously ROM files had to have specific names; now the program
   automatically searches for a ROM file suitable for the machine to
   be emulated.</LI>
   
   <LI>The "phosphor" color of the monochrome screen can now be
   changed to any color; it used to be "green only".</LI>
   
   <LI>The video refresh rate of the emulated monitor can now be
   configured.</LI>
   
   <LI>When doing a cold restart of the emulated machine
   (ctrl-command-reset), the disks now stay in the disk drives.</LI>
   
   <LI>Improved compatibility of the mouse emulation; software like
   Apple&nbsp;//e Desktop now runs fine.</LI>
   
   <LI>Fixed a bug that made it impossible to remove a diskette image
   from a configuration.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 2.6</FONT></H4>

<P>Many of the enhancements are the direct result of feedback I
received from users. Thanks every-one!</P>

<UL>
   <LI>A floppy disk image can now be part of the configuration,
   making it possible to create a turnkey system with a bootable
   floppy disk image.</LI>
   
   <LI>A Macintosh folder can now be mounted as a DOS 3.3 floppy
   disk.</LI>
   
   <LI>Added a quick way to select between 3 different standard
   machines: Applel&nbsp;&#93;&#91;, Applel&nbsp;&#93;&#91;+ and
   Apple&nbsp;//e.</LI>
   
   <LI>Added the option to define a default configuration, which is
   used when the program starts.</LI>
   
   <LI>Introduced the option to use the Macintosh backspace key as
   left arrow key.</LI>
   
   <LI>Improved support for the Open Apple and Solid Apple key on
   the Apple&nbsp;//e.</LI>
   
   <LI>Added an optional disk I/O indicator light in full screen
   mode.</LI>
   
   <LI>Added the "Media" pull down menu, which contains all commands
   to insert disks and tapes.</LI>
   
   <LI>When a virtual machine window is closed the program now asks
   for a confirmation.</LI>
   
   <LI>The standard window size can now be set as an application-wide
   preference.</LI>
   
   <LI>Improved the efficiency of video rendering by about 30%.</LI>
   
   <LI>Solved a bug that prevented the game "Serpentine" to run.</LI>
   
   <LI>Solved a bug that corrupted the internal timing of a virtual
   machine after the Macintosh woke up from sleep mode (solved this
   in Panther, not in Jaguar).</LI>
</UL>

<H4><FONT COLOR="#990000">Version 2.5.1</FONT></H4>

<UL>
   <LI>Fixed a Jaguar compatibility issue introduced in version
   2.5</LI>
</UL>

<H4><FONT COLOR="#990000">Version 2.5</FONT></H4>

<UL>
   <LI>Added support for ProDOS hard disk emulation.</LI>
   
   <LI>Added support for a USB joystick or game pad.</LI>
   
   <LI>Added emulation of a ProDOS compatible clock card.</LI>
   
   <LI>Improved the overall efficiency of the emulation engine by
   about 25%. Effectively, this means the virtual machine consumes
   less Macintosh processor time.</LI>
   
   <LI>Fixed a problem with keyboards that require the use of the
   "alt" key for some special characters like "@" and "#". These
   characters can now be entered in the normal way.</LI>
</UL>

<H4><FONT COLOR="#990000">Version 2.1</FONT></H4>

<UL>
   <LI><FONT COLOR="#000000">Added emulation of the Z80 card, so it
   is now possible to run CP/M.</FONT></LI>
   
   <LI><FONT COLOR="#000000">The speed of the 6502 processor can now
   be configured from 1 to 10 MHz.</FONT></LI>
   
   <LI><FONT COLOR="#000000">The Apple&nbsp;&#93;&#91; screen can now
   be copied to the clipboard, either as graphics or as
   text.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added the possibility to pause / resume
   a virtual machine.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added support for the ".po" disk image
   format.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Changes in disk images were only stored
   when the disk image was ejected. To prevent loss of data, a
   modified image is now also auto-saved at regular intervals (every
   30 seconds).</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added a number of "Great
   Apple&nbsp;&#93;&#91; Links" under the Help menu.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Changed the Reset key to function key
   F12 (was F13), because not all Macintosh keyboards have the F13
   key.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Pasting text in the Apple //e 80-column
   screen could lead to lost characters; fixed this
   problem.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Solved an issue that prevented some
   versions of ProDOS to boot.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Improved general compatibility of the
   emulated mouse card.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Both the mouse and the game controls are
   operated by the Macintosh mouse. It appeared this caused problems
   in some Apple&nbsp;&#93;&#91; programs. Solved this by disabling
   the game I/O while the Apple&nbsp;&#93;&#91; mouse is switched
   on.</FONT></LI>
</UL>

<H4><FONT COLOR="#990000">Version 2.0</FONT></H4>

<P><FONT COLOR="#000000">This release adds much-requested features
and a number of other improvements.</FONT></P>

<UL>
   <LI><FONT COLOR="#000000">Emulation of the Apple&nbsp;//e,
   including emulation of the 65C02 processor;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Emulation of the Apple&nbsp;//e
   80-column / 64K RAM card;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Mouse card emulation;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Full-screen support and multiple window
   sizes;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Full, configurable support for the Game
   I/O connector;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added a configuration option to allow
   choosing betweeen predefined machine types (Apple&nbsp;&#93;&#91;,
   Apple&nbsp;&#93;&#91;+ or Apple&nbsp;//e). As a result, made some
   changes to the way ROM files are found. Existing users might have
   to change their configuration, as described in the
   documentation.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Solved an issue that caused the program
   to crash when a disk was inserted while no disk drives were
   configured;</FONT></LI>
   
   <LI><FONT COLOR="#000000">Improved slot configuration: a card will
   now only fit in a slot where it will actually work.</FONT></LI>
</UL>

<H4><FONT COLOR="#990000">Version 1.1</FONT></H4>

<P><FONT COLOR="#000000">This release contains numerous new features
and improvements.</FONT></P>

<UL>
   <LI><FONT COLOR="#000000">Now supports diskettes with up to 40
   tracks (was 35).</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added 80-column card and video
   soft-switch.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added configurable cassette tape
   playback volume, in order to allow reading a recording of an
   actual Apple&nbsp;&#93;&#91; tape.</FONT></LI>
   
   <LI><FONT COLOR="#000000">File extensions .DSK and .NIB are now
   recognized as equivalent to .dsk amd .nib.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Disk image type ".do" (or ".DO") is
   recognized as equivalent to .dsk. When the disk image is modified,
   the extension is changed to the more common ".dsk".</FONT></LI>
   
   <LI><FONT COLOR="#000000">The "View" menu has additional options
   and has been renamed "Quick settings".</FONT></LI>
   
   <LI><FONT COLOR="#000000">Push button 1 of the game controller can
   now be operated with the right mouse button or the alt
   key.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added keyboard shortcuts for frequently
   used menus, like show / hide devices and insert a
   disk.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Improved behavior of empty slots, so
   software like ProDOS now recognizes them as "empty".</FONT></LI>
   
   <LI><FONT COLOR="#000000">Improved overall speed of the 6502
   engine by about 30%. This does <I>not</I> mean the
   Apple&nbsp;&#93;&#91; software runs faster; it means the emulator
   consumes less Macintosh processor time.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Improved linefeed handling by the
   emulated printer; as a result it does not produce superfluous
   empty lines anymore.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Added "floating bus" support in the I/O
   addresses of the video generator. This undocumented feature is
   used in some games. As a result compatibility has been
   improved.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Solved a bug with respect to the "shift
   key modification". In release 1.0, I had assumed that pressing the
   shift key "pressed" the game controller button. It appeared the
   80-column card expects pressing shift <I>releases</I> the game
   controller button.</FONT></LI>
   
   <LI><FONT COLOR="#000000">Solved a bug in handling of expansion
   ROM (on a card). This improves general compatibility.</FONT></LI>
</UL>

<H4><FONT COLOR="#990000">Version 1.0</FONT></H4>

<P><FONT COLOR="#000000">Initial release</FONT></P>

<!-- OppleSegEnd -->
<!-- OppleSegStart="Virtual ][ technical specifications" -->

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Specifications></A>Specifications of the virtual machine</FONT></H3>

<DL>
   <DT>CPU</DT>
   
   <DD>MCS6502 / SY6502, running at 1.023 MHz to 10.230 MHz
   (configurable). Only the "official" instruction set is supported;
   all other opcodes are treated as NOP.</DD>
   
   <DD>WDC 65C02, running at 1.023 MHz to 10.230 MHz
   (configurable).</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Main board</DT>
   
   <DD>Apple&nbsp;II revision 1.</DD>
   
   <DD>Apple&nbsp;//e revision B.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Video generator</DT>
   
   <DD>Supports text, low resolution graphics and high resolution
   graphics. Screen refresh rate is configurable at 10, 15, 20, 30,
   or 60 Hz.</DD>
   
   <DD>On Apple&nbsp;//e also supports 80-column display and double
   hires.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Character generator ROM</DT>
   
   <DD>Can be configured to display only upper case characters or
   upper and lower case characters.</DD>
   
   <DD>On the Apple&nbsp;//e, contains the regular and alternate
   character sets.</DD>
   
    <DD>Allows installation of a custom character set.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Monitor</DT>
   
   <DD>Configurable color or monochrome. Size can be set to 560
   x 384 pixels (i.e. 1 Apple&nbsp;&#93;&#91; pixel is presented as 2
   x 2 Macintosh pixels), 840 x 576 (1 pixel is 3 x 3), 1120 x 768 (
   1 pixel is 4 x 4), or full-screen.</DD>
   
   <DD>Monochrome "phosphor" color can be configured.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>ROM memory</DT>
   
   <DD>12 KB configurable from an external file. Memory range $D000
   to $FFFF. If the external file contains less than 12K of data, the
   top part of memory is set up using the file, and the remaining
   bytes are initialized to 0.</DD>
   
   <DD>The Apple&nbsp;//e has 16K of ROM, and uses the last 16K of
   the ROM file.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>RAM memory</DT>
   
   <DD>Apple&nbsp;&#93;&#91;(+): configurable in sizes 4K, 8K, 12K, 16K, 20K, 24K, 32K, 36K and
   48K.</DD>
   
   <DD>Apple&nbsp;//e: 64 KB built-in; can be upgraded up to 16 MB with the
   RamWorks card.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Sound</DT>
   
   <DD>The "speaker toggle" mechanism of the Apple&nbsp;&#93;&#91; is
   fully implemented using OS X Core Audio.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Cassette interface</DT>
   
   <DD>Using the built-in cassette recorder module, sound produced by
   the Apple&nbsp;&#93;&#91; on the cassette output connector can be
   recorded to an AIFF file, and (uncompressed) AIFF files can be
   read and fed to the cassette input connector.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Game connector</DT>
   
   <DD>All inputs of the game connector can be triggered with mouse
   and keyboard, or with a USB game device. The output functions
   (annunciators and C040 strobe) are not available.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Keyboard</DT>
   
   <DD>All Apple&nbsp;&#93;&#91; keys are supported, except "REPT".
   Can be configured to enter upper case characters only, or upper
   and lower case characters; on an Apple&nbsp;&#93;&#91;(+) the
   shift key can be connected to operate button 2 of the game
   connector (the "shift key modification").</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>16 K RAM Card</DT>
   
   <DD>Implements the Ramex 16 card. Fully compatible with the UCSD Pascal system.</DD>
   
   <DT>&nbsp;</DT>

   <DT>Saturn memory card</DT>
   
   <DD>Implements the Saturn Systems 128K memory card.</DD>

   <DT>&nbsp;</DT>
   
   <DT>Apple&nbsp;&#93;&#91; 80-column card</DT>
   
   <DD>Emulates the Term 80 Video Display Interface.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>RamWorks III card (for Apple&nbsp;//e  only)</DT>
   
   <DD>Configurable 64 KB to 8128 KB of RAM, with increments of 64 KB. Allows 80-column and double-hires display.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Parallel printer interface card</DT>
   
   <DD>Emulates the Orange Micro Grappler+ card. The DIP switches are pre-configured to 
   support the Epson FX-80 printer.</DD>

   <DT>&nbsp;</DT>

   <DT>Serial printer interface card</DT>
   
   <DD>Emulates the Apple Super Serial Card, with the DIP switches pre-configured to
   support the ImageWriter II printer.</DD>

   <DT>&nbsp;</DT>

   <DT>Super Serial card</DT>
      
   <DD>Emulates the Apple Super Serial Card (SSC). The emulation can work with real serial devices connected to
   the Mac, or can communicate with other applications via Unix named pipes.
   <BR>
   Note that the SCC was also able to emulate the older "Serial Interface card", but Virtual&nbsp;&#93;&#91; does not support
       this option.</DD>

   <DT>&nbsp;</DT>
   
   <DT>Mouse card</DT>
   
   <DD>Emulates the AppleMouse // card.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Epson FX-80 printer</DT>
   
   <DD>Emulates all Epson FX-80 features except printing proportional characters. 
   The output can be saved to a pdf file for further processing.</DD>
   
   <DT>&nbsp;</DT>

   <DT>ImageWriter II printer</DT>

   <DD>Emulates all ImageWriter II features except printing proportional characters and
   selecting print quality. The output can be saved to a pdf file for further processing.</DD>

   <DT>&nbsp;</DT>
   
   <DT>"Text only" printer</DT>
   
   <DD>Writes to an ASCII text file in append mode.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>AppleClock card</DT>
   
   <DD>Emulates the Mountain Computer AppleClock. Is not compatible with the Apple //e.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Thunderclock card</DT>
   
   <DD>Emulates the Thunderware Thunderclock Plus.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>No-slot clock</DT>
   
   <DD>Emulates the Dallas Phantom DS1216 SmartWatch/ROM Real-Time Clock.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>SCSI card</DT>
   
   <DD>Can only be used with the ProDOS software interface for block
   devices. Does not actually support the SCSI standard and has no
   documented I/O addresses. Is designed to work with the OmniDisk
   emulated drive.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>ProDOS disk drive ("OmniDisk")</DT>
   
   <DD>Emulates an imaginary disk drive able to work with ProDOS disk
   images of any size up to 32MB. The disk image formats supported
   are "hdv" and "2img".</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Disk &#93;&#91; card</DT>
   
   <DD>Emulates the Apple Disk &#93;&#91; card for DOS 3.3 (16
   sectors per track).</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Disk &#93;&#91; drive</DT>
   
   <DD>Supports up to 80 tracks (including half-tracks). Diskettes
   are implemented as disk image files or mounted Macintosh folders.
   Supports sector formats as well as nibble formats. Supports
   reading, writing and write protection.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Mockingboard card</DT>
   
   <DD>Emulates the type "A" (a.k.a. "Sound II") Mockingboard card, which
   means it contains two sound chips able to produce 6 simultaneous sound channels.
   It does not support the speech chip.</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Z80 card</DT>
   
   <DD>Emulates the Zilog Z80A processor at a clock speed of either 2
   MHz or 4 MHz (configurable).</DD>
   
   <DT>&nbsp;</DT>
   
   <DT>Timing</DT>
   
   <DD>Timing of all instructions is as specified in the Synertec
   6502 Programming Manual. The internal clock runs with an
   <I>average</I> speed of 1.023 MHz. This means that not every
   individual instruction is accurately timed; however the average
   timing is accurate when measured over longer time intervals.</DD>
</DL>

<H3><FONT COLOR="#990000">
<HR>
<A NAME=Unsupported></A>Unsupported features</FONT></H3>

<P><FONT COLOR="#000000">Not all Apple&nbsp;&#93;&#91; hardware
features are supported, and some things work slightly
different.</FONT></P>

<UL>   
   <LI>The Mountain Computer AppleClock emulation does not
   support setting the current time. It adjusts itself automatically
   according to the Macintosh system clock.</LI>
   
   <LI>The emulated Z80 processor does not implement the
   IN and OUT instructions, and does not implement interrupt
   handling. These are not severe limitations, because I/O is
   memory-mapped on the Apple&nbsp;&#93;&#91;, and because all
   interrupts generated by the virtual machine are supposed to be
   handled by the 6502 processor.</LI>
   
   <LI>The emulated matrix printers do not support proportional characters.</LI>
   
   <LI>The Super Serial card does not support emulation of the P8 and P8A versions
   of the Apple II Serial Interface card (SIC).</LI>

   <LI>The C040 strobe on the Game I/O connector is not supported, and will never be. 
   According to Apple's documentation, this 5 volts line can be dropped to zero volts by an
   application, for the duration of one-half microsecond. Such a short event cannot be
   accurately emulated.</LI>   
</UL>

<!-- OppleSegEnd -->

<H3><FONT COLOR="#990000">
<HR>
<A NAME=Why></A>Why did I create this application?</FONT></H3>

<P><FONT COLOR="#000000">I bought my first computer, an
Apple&nbsp;&#93;&#91; europlus, in early 1982. It had 48 KB of RAM, a
monochrome green monitor, and one Disk&nbsp;&#93;&#91; drive. It cost
me an arm and a leg, but I never regretted the purchase. On the
contrary, during the years I used the machine, from 1982 to 1986, it
gave me enormous amounts of fun, and in the end it was worth every
penny I paid for it. During that period, I purchased more and more add-on
peripheral cards, like the 16K RAM card, a Z80 card, an 80-column
card, a clock card, a printer card, a super serial card, and a PAL TV
card (which allowed me to finally see the colors the
Apple&nbsp;&#93;&#91; produced, on a TV screen). I found lots of
enjoyment in writing programs for the Apple&nbsp;&#93;&#91;, and in
discovering exactly how everything worked. I did quite a bit of
reverse engineering myself, and bought several technical books (see
</FONT><A HREF="#Acknowledgements"><FONT COLOR="#000000">Acknowledgements</FONT></A><FONT COLOR="#000000">).
In 1986 I bought my first Macintosh, and soon the
Apple&nbsp;&#93;&#91; was moved to the basement. Ten years later,
around 1996, I found that a number of very good Apple&nbsp;&#93;&#91;
emulators were available, like Stop The Madness (STM) and Catakig.
One weekend, I got the Apple&nbsp;&#93;&#91; from the basement, set
it up on my desk, and to my surprise everything still worked without
a problem. I connected the Apple&nbsp;&#93;&#91; to the Macintosh
with a serial cable, and created software on both machines to convert
my many floppy disks to disk images on the Macintosh. Again to my
surprise, all disks could be read without a problem despite their 10
year stay in the basement. In the end, I managed to convert all my
disks, even the "copy protected" ones, like Bag of Tricks and
Visicalc.</FONT></P>

<P><FONT COLOR="#000000">The purpose of this was just to enjoy the
nostalgia and relive the magical early days of the home computer era.
When I switched to Mac OS&nbsp;X in early 2002, I regretted that none
of my favorite Apple&nbsp;&#93;&#91; emulators were available in
the new OS. Early 2003, I decided to try and write my own
Apple&nbsp;&#93;&#91; emulator. It seemed like a challenging and fun
project, and so far it still is.</FONT></P>

<P><FONT COLOR="#000000">The 21-year old Apple&nbsp;&#93;&#91; again
played an important role in the realization of the
Virtual&nbsp;&#93;&#91; application; I used it for almost all of the
photographs in the program, and to compare the behavior of the emulator
with "the real thing".</FONT></P>

<IMG SRC="Side-by-side.jpg" ALIGN=bottom>

<H3><FONT COLOR="#990000">

<HR>

<A NAME=Acknowledgements></A>Acknowledgements</FONT></H3>

<P><FONT COLOR="#000000">Quick progress on the project was made
possible by a few excellent books I purchased many years
ago.</FONT></P>

<P><FONT COLOR="#000000"><IMG SRC="Refman.jpg" WIDTH=106 HEIGHT=150 ALIGN=bottom><BR>
The "Apple&nbsp;&#93;&#91; Reference Manual" came with the machine,
and contains an accurate and detailed description of all built-in
hardware elements. It formed the basis of the class design of the
core library.</FONT></P>

<P><FONT COLOR="#000000"><IMG SRC="BAD.jpg" WIDTH=107 HEIGHT=150 ALIGN=bottom><BR>
"Beneath Apple DOS" by Don Worth and Pieter Lechner was essential for
the implementation of the disk drive emulation. To my knowledge it is
the only book that describes the nibble encoding scheme used to store
data on disk.</FONT></P>

<P><FONT COLOR="#000000"><IMG SRC="PT6502.jpg" WIDTH=96 HEIGHT=150 ALIGN=bottom><BR>
"Programming the 6502" by Rodnay Zaks has always been my reference to
the 6502 instruction set.</FONT></P>

<P><FONT COLOR="#000000"><IMG SRC="WWITAII.jpg" WIDTH=111 HEIGHT=150 ALIGN=bottom><BR>
"What's where in the Apple?" by William F. Luebbert was very helpful
during troubleshooting and as a quick reference to the
Apple&nbsp;&#93;&#91; I/O addresses.</FONT></P>

<P></P>
</BODY>
</HTML>
